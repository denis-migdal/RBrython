{"version":3,"file":"libs/RBrython-all/index.js","mappings":"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","sources":["webpack://rbrython/./src/rbry/corelib/mfct.py","webpack://rbrython/./src/rbry/corelib/bool.py","webpack://rbrython/./src/rbry/corelib/int.py","webpack://rbrython/./src/rbry/corelib/str.py","webpack://rbrython/./src/rbry/corelib/float.py","webpack://rbrython/webpack/bootstrap","webpack://rbrython/webpack/runtime/define property getters","webpack://rbrython/webpack/runtime/hasOwnProperty shorthand","webpack://rbrython/./src/rbry/parser/index.ts","webpack://rbrython/./src/rbry/runners/interface.ts","webpack://rbrython/./src/rbry/runners/BrythonGlobalRunner.ts","webpack://rbrython/./src/rbry/engines/interface.ts","webpack://rbrython/./src/rbry/targets/function.ts","webpack://rbrython/./src/rbry/engines/Base/index.ts","webpack://rbrython/./src/rbry/runlib/tmp_corelib/type.ts","webpack://rbrython/./src/rbry/runlib/helpers/getClass.ts","webpack://rbrython/./src/rbry/runlib/interface/op.ts","webpack://rbrython/./src/rbry/runlib/interface/KW.ts","webpack://rbrython/./src/rbry/runners/RBrythonGlobalRunner.ts","webpack://rbrython/./src/rbry/runlib/index.ts","webpack://rbrython/./src/rbry/runlib/interface/uop.ts","webpack://rbrython/./src/rbry/runlib/interface/call.ts","webpack://rbrython/./src/rbry/runlib/helpers/isClass.ts","webpack://rbrython/./src/rbry/runlib/interface/mcall.ts","webpack://rbrython/./src/rbry/runlib/interface/assert.ts","webpack://rbrython/./src/rbry/runlib/interface/attr.ts","webpack://rbrython/./src/rbry/runlib/interface/setattr.ts","webpack://rbrython/./src/rbry/runlib/interface/getModule.ts","webpack://rbrython/./src/rbry/emitter/handlers/index.ts","webpack://rbrython/./src/rbry/ast/index.ts","webpack://rbrython/./src/rbry/emitter/node2js.ts","webpack://rbrython/./src/rbry/emitter/handlers/Body.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/BinOp.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/Call.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/Compare.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/UnaryOp.ts","webpack://rbrython/./src/rbry/targets/raw.ts","webpack://rbrython/./src/rbry/emitter/handlers/list.ts","webpack://rbrython/./src/rbry/emitter/handlers/definitions/ClassDef.ts","webpack://rbrython/./src/rbry/emitter/handlers/definitions/FunctionDef.ts","webpack://rbrython/./src/rbry/ast/types/index.ts","webpack://rbrython/./src/rbry/emitter/handlers/definitions/Lambda.ts","webpack://rbrython/./src/rbry/emitter/handlers/definitions/Arguments.ts","webpack://rbrython/./src/rbry/emitter/handlers/keywords/Assert.ts","webpack://rbrython/./src/rbry/emitter/handlers/keywords/Pass.ts","webpack://rbrython/./src/rbry/emitter/handlers/keywords/Return.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/Assign.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/Attribute.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/AugAssign.ts","webpack://rbrython/./src/rbry/emitter/handlers/vars/Constant.ts","webpack://rbrython/./src/rbry/emitter/handlers/vars/Expr.ts","webpack://rbrython/./src/rbry/emitter/handlers/vars/Name.ts","webpack://rbrython/./src/rbry/emitter/handlers/vars/JoinedStr.ts","webpack://rbrython/./src/rbry/emitter/handlers/controlflows/If.ts","webpack://rbrython/./src/rbry/emitter/handlers/controlflows/While.ts","webpack://rbrython/./src/rbry/emitter/handlers/controlflows/For.ts","webpack://rbrython/./src/rbry/emitter/handlers/controlflows/Try.ts","webpack://rbrython/./src/rbry/emitter/handlers/controlflows/Match.ts","webpack://rbrython/./src/rbry/emitter/handlers/keywords/Continue.ts","webpack://rbrython/./src/rbry/emitter/handlers/keywords/Break.ts","webpack://rbrython/./src/rbry/emitter/handlers/keywords/Raise.ts","webpack://rbrython/./src/rbry/emitter/handlers/imports/ImportFrom.ts","webpack://rbrython/./src/rbry/emitter/handlers/imports/Import.ts","webpack://rbrython/./src/rbry/emitter/handlers/operators/BoolOp.ts","webpack://rbrython/./src/rbry/emitter/index.ts","webpack://rbrython/./src/rbry/engines/Brython/index.ts","webpack://rbrython/./src/rbry/macros/__JS_OP__.ts","webpack://rbrython/./src/rbry/macros/__JS_RUN__.ts","webpack://rbrython/./src/rbry/macros/__JS_WRITE__.ts","webpack://rbrython/./src/rbry/macros/__JS_LOG__.ts","webpack://rbrython/./src/rbry/macros/__JS_AS_STRING__.ts","webpack://rbrython/./src/rbry/macros/__JS_AS_NUMBER__.ts","webpack://rbrython/./src/rbry/targets/index.ts","webpack://rbrython/./src/rbry/targets/global.ts","webpack://rbrython/./src/rbry/targets/module.ts","webpack://rbrython/./src/rbry/targets/brython.ts","webpack://rbrython/./src/libs/RBrython-all/index.ts","webpack://rbrython/./src/rbry/engines/index.ts","webpack://rbrython/./src/rbry/engines/RBrython/index.ts"],"sourcesContent":["export default \"#BUG\\n#def abs(o: float|int, /) -> float|int:\\n#    return o.__abs__()\";","export default \"from RBM import __JS_OP__, boolean\\n\\nclass bool(boolean): # type: ignore (bool is Final)\\n    def __eq__(self, o: object, /) -> bool:\\n        return __JS_OP__(self, \\\"==\\\", o)\";","export default \"from types import NotImplementedType\\nfrom RBM import __JS_AS_NUMBER__, __JS_OP__, bigint\\n\\nclass int(bigint):\\n\\n    def __new__(cls, o: object, base: int, /) -> int:\\n        if type(o) == str:\\n            return __JS_RUN__( # type: ignore\\n                '''\\n                    (x, base) => {\\n                        if( base !== 16)\\n                            return BigInt(x);\\n                        \\n                        let result = 0n;\\n                        for(let i = 2; i < x.length; ++i)\\n                            result = result << 4n + BigInt( parseInt(this.slice(i, i+8), 16) );\\n                        return result;\\n                    }\\n                ''', o, base) # type: ignore\\n        return type(o).__int__(o) # type: ignore\\n    \\n    def __eq__(self, o: object, /) -> bool:\\n        return __JS_OP__(self, \\\"==\\\", o)\\n\\n\\n    def __add__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"+\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __radd__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(o, \\\"+\\\", self)\\n            case _      : return NotImplemented\\n    \\n\\n    def __sub__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"-\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rsub__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(o, \\\"-\\\", self)\\n            case _      : return NotImplemented\\n    \\n    def __mul__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"*\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rmul__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(o, \\\"*\\\", self)\\n            case _      : return NotImplemented\\n\\n    def __pow__(self, o: object, mod: int|None = None, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"**\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rpow__(self, o: object, mod: int|None = None, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(o, \\\"**\\\", self)\\n            case _      : return NotImplemented\\n\\n    def __div__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(self),\\n                                           \\\"/\\\",\\n                                           __JS_AS_NUMBER__(o))\\n            case _      : return NotImplemented\\n    \\n    def __rdiv__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o),\\n                                           \\\"*\\\",\\n                                           __JS_AS_NUMBER__(self) )\\n            case _      : return NotImplemented\\n\\n    def __mod__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"%\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rmod__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"%\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __or__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"|\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __ror__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"|\\\", o)\\n            case _      : return NotImplemented\\n\\n    def __and__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"&\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rand__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"&\\\", o)\\n            case _      : return NotImplemented\\n        \\n    def __xor__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"^\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rxor__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"^\\\", o)\\n            case _      : return NotImplemented\\n\\n    def __lshift__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"<<\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rlshift__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\"<<\\\", o)\\n            case _      : return NotImplemented\\n\\n    def __rshift__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\">>\\\", o)\\n            case _      : return NotImplemented\\n    \\n    def __rrshift__(self, o: object, /) -> NotImplementedType|int:\\n        match o:\\n            case int  (): return __JS_OP__(self, \\\">>\\\", o)\\n            case _      : return NotImplemented\\n    \\n    ### unary operators ###\\n    def __invert__(self, /) -> int:\\n        return __JS_OP__(\\\"~\\\", self)\\n\\n    def __neg__(self, /) -> int:\\n        return __JS_OP__(\\\"-\\\", self)\\n    \\n    def __abs__(self, /) -> int:\\n         return __JS_RUN__(\\\"x => x < 0n ? -x : x\\\", self) # type: ignore\";","export default \"from types import NotImplementedType\\nfrom RBM import __JS_OP__, string\\n\\nclass str(string):\\n    def __new__(cls, o: object, /) -> str:\\n        return __JS_AS_STRING__(o) # type: ignore\\n        #return type(o).__str__(o) # type: ignore\\n    \\n    def __eq__(self, o: object, /) -> bool:\\n        return __JS_OP__(self, \\\"==\\\", o)\\n\\n    def __mul__(self, o: object, /) -> NotImplementedType|str:\\n        match o:\\n            case int  (): return __JS_WRITE__(\\\"self.repeat(Number(b))\\\") # type: ignore\\n            case _      : return NotImplemented\\n    \\n    def __rmul__(self, o: object, /) -> NotImplementedType|str:\\n        match o:\\n            case int  (): return __JS_WRITE__(\\\"self.repeat(Number(b))\\\") # type: ignore\\n            case _      : return NotImplemented\";","export default \"from types import NotImplementedType\\nfrom RBM import __JS_OP__, __JS_AS_NUMBER__, __JS_WRITE__, number\\n\\nclass float(number):\\n    def __new__(cls, o: object, /) -> float:\\n        if type(o) is str:\\n            if o == \\\"infinity\\\" or o == \\\"inf\\\":\\n                return __JS_WRITE__(\\\"Number.POSITIVE_INFINITY\\\") # pyright: ignore[reportReturnType]\\n            if o == \\\"-infinity\\\" or o == \\\"-inf\\\":\\n                return __JS_WRITE__(\\\"Number.NEGATIVE_INFINITY\\\") # pyright: ignore[reportReturnType]\\n            return __JS_AS_NUMBER__(o)\\n        return type(o).__float__(o) # type: ignore\\n    \\n    def __eq__(self, o: object, /) -> bool:\\n        return __JS_OP__(self, \\\"==\\\", o)    \\n\\n    def __add__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(self, \\\"+\\\", o)\\n            case int  (): return __JS_OP__(self, \\\"+\\\", __JS_AS_NUMBER__(o))\\n            case _      : return NotImplemented\\n\\n    def __radd__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(o                  , \\\"+\\\", self)\\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), \\\"+\\\", self)\\n            case _      : return NotImplemented\\n\\n    def __sub__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(self, \\\"-\\\", o)\\n            case int  (): return __JS_OP__(self, \\\"-\\\", __JS_AS_NUMBER__(o))\\n            case _      : return NotImplemented\\n\\n    def __rsub__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(o                  , \\\"-\\\", self)\\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), \\\"-\\\", self)\\n            case _      : return NotImplemented\\n\\n    def __mul__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(self, \\\"*\\\", o)\\n            case int  (): return __JS_OP__(self, \\\"*\\\", __JS_AS_NUMBER__(o))\\n            case _      : return NotImplemented\\n\\n    def __rmul__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(o                  , \\\"*\\\", self)\\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), \\\"*\\\", self)\\n            case _      : return NotImplemented\\n\\n    def __div__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(self, \\\"/\\\", o)\\n            case int  (): return __JS_OP__(self, \\\"/\\\", __JS_AS_NUMBER__(o))\\n            case _      : return NotImplemented\\n\\n    def __rdiv__(self, o: object, /) -> NotImplementedType|float:\\n        match o:\\n            case float(): return __JS_OP__(o                  , \\\"/\\\", self)\\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), \\\"/\\\", self)\\n            case _      : return NotImplemented\\n\\n    ### unary operators ###\\n\\n    def __neg__(self, /) -> float:\\n        return __JS_OP__(\\\"-\\\", self)\\n    \\n    def __int__(self, /) -> int:\\n        return __JS_RUN__('(x) => Math.trunc(x)', self) # type: ignore\\n    \\n    def __abs__(self, /) -> int:\\n         return __JS_RUN__('(x) => Math.abs(x)', self) # type: ignore\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { ParsedCode } from \"../ast/types\";\n\nexport default function parse(pycode: string, filename: string): ParsedCode {\n    \n    const parser = new $B.Parser(pycode, filename, 'file');\n\n    const ast   = $B._PyPegen.run_parser(parser);\n    const future = $B.future_features(ast, filename)\n    var symtable = $B._PySymtable_Build(ast, filename, future);\n\n    return {\n        filename,\n        pycode,\n        ast,\n        symtable,\n    }\n}","export type PyModule = Record<string, any>;\n\nexport default abstract class Runner {\n    \n    abstract run(jscode: string): PyModule;\n\n    abstract registerBuiltins(symbols: PyModule): void;\n    abstract registerBuiltin(name: string, value: any): void;\n\n    abstract registerModule(name: string, symbols: PyModule): void;\n    abstract      getModule(name: string): PyModule;\n\n    // low level\n    abstract loadAsFunction(jscode: string): (runlib: any) => PyModule;\n    abstract runFunction(fct: (runlib: any) => PyModule): PyModule;\n}","import Runner, { PyModule } from \"./interface\";\n\nexport default class RBrythonGlobalRunner extends Runner {\n\n    override run(jscode: string) {\n        return this.runFunction( this.loadAsFunction(jscode) );\n    }\n\n    override loadAsFunction(jscode: string): () => PyModule {\n        $B.imported[\"_\"] = {};\n        return Function(\"'use strict';\" + jscode) as () => PyModule;\n    }\n    override runFunction( fct: (runlib: any) => PyModule ) {\n        // @ts-ignore\n        return fct();\n    }\n\n    override registerBuiltins(symbols: PyModule): void {\n        for(let name in symbols)\n            this.registerBuiltin(name, symbols[name]);\n    }\n    override registerBuiltin(name: string, value: any): void {\n        $B.builtins[name] = $B.jsobj2pyobj(value);\n    }\n    override registerModule(name: string, symbols: PyModule): void {\n        $B.imported[name] = $B.jsobj2pyobj( symbols );\n    }\n    override getModule(name: string): PyModule {\n        return $B.imported[name];\n    }\n}","import { ParsedCode } from \"../ast/types\";\nimport { EmitterOptions } from \"../emitter\";\nimport { Macro } from \"../emitter/handlers/operators/Call\";\nimport { PyModule } from \"../runners/interface\";\n\nexport default abstract class Engine {\n    abstract run(pycode: string, opts?: EmitterOptions): PyModule;\n\n    abstract registerModule(name: string, symbols: string|PyModule): void;\n    abstract      getModule(name: string): PyModule;\n\n    abstract registerBuiltins(symbols: string|PyModule): void;\n    abstract registerBuiltin(name: string, value: any): void;\n    \n    abstract registerMacros(macros: Record<string, Macro>):void;\n    abstract registerMacro(name: string, fct: Macro): void;\n\n    // low level\n    abstract parse(pycode: string): ParsedCode;\n    abstract emit (parsed: ParsedCode, opts?: Partial<EmitterOptions>): string;\n    \n    abstract loadAsFunction(jscode: string): (runlib: any) => PyModule;\n    abstract runFunction(fct: (runlib: any) => PyModule): PyModule;\n}","import { JSCode } from \"./interface\";\n\nexport function FunctionTarget(jscode: JSCode) {\n    return `\"use strict\";${jscode.jscode}return {${jscode.exported.join(\", \")}};`;\n}","import Engine from \"../interface\";\nimport { ParsedCode } from \"@RBrython/rbry/ast/types\";\nimport Runner, { PyModule } from \"@RBrython/rbry/runners/interface\";\nimport parse from \"@RBrython/rbry/parser\";\nimport {Emitter, EmitterOptions} from \"@RBrython/rbry/emitter\";\nimport { Macro } from \"@RBrython/rbry/emitter/handlers/operators/Call\";\nimport { FunctionTarget } from \"@RBrython/rbry/targets/function\";\n\ntype Parser  = typeof parse;\n\nexport default class BaseEngine extends Engine {\n\n    protected readonly parser;\n    protected readonly emitter;\n    protected readonly runner;\n\n    constructor(parser: Parser, emitter: Emitter, runner: Runner) {\n        super();\n\n        this.parser  = parser;\n        this.emitter = emitter;\n        this.runner  = runner;\n    }\n\n    override run(pycode: string, opts?: Omit<EmitterOptions, \"target\">): PyModule {\n\n        return this.runner.run(this.emit(this.parse(pycode), {\n            ...opts,\n            target: FunctionTarget\n        }));\n    }\n\n    // modules\n    override registerModule(name: string, symbols: string | PyModule): void {\n        if( typeof symbols === \"string\")\n            symbols = this.run(symbols);\n        this.runner.registerModule(name, symbols);\n    }\n    override getModule(name: string): PyModule {\n        return this.runner.getModule(name);\n    }\n\n    // builtins\n    override registerBuiltins(symbols: string | PyModule): void {\n        if( typeof symbols === \"string\")\n            symbols = this.run(symbols);\n        this.runner.registerBuiltins(symbols);\n    }\n    override registerBuiltin(name: string, value: any): void {\n        this.runner.registerBuiltin(name, value);\n    }\n\n    override registerMacros(macros: Record<string, Macro>):void {\n        this.emitter.registerMacros(macros);\n\n    }\n    override registerMacro(name: string, fct: Macro): void {\n        this.emitter.registerMacro(name, fct);\n    }\n\n    // steps\n    override parse(pycode: string): ParsedCode {\n        return this.parser(pycode, \"_\");\n    }\n    override emit(parsed: ParsedCode, opts?: Partial<EmitterOptions>): string {\n        return this.emitter.emit(parsed, opts);\n    }\n    override loadAsFunction(jscode: string): (runlib: any) => PyModule {\n        return this.runner.loadAsFunction(jscode);\n    }\n    override runFunction(fct: (runlib: any) => PyModule): PyModule {\n        return this.runner.runFunction(fct);\n    }\n}","export class type {\n    //TODO...\n    __call__(...args: any[]) {\n\n        console.warn(\"really called\");\n\n        // @ts-ignore\n        const factory = this.prototype.__new__;\n        const self = factory !== undefined\n                        ? factory.call(this, ...args)\n                        // @ts-ignore\n                        : new this(...args);\n        // @ts-ignore\n        const init = this.prototype.__init__;\n        if( init !== undefined)\n            init.call(self, ...args);\n        \n        return self\n    }\n    __eq__(b: unknown) {\n        return this == b;\n    }\n}","import { type } from \"../tmp_corelib/type\";\n\nconst mapper = {\n    \"bigint\" : \"int\",\n    \"number\" : \"float\",\n    \"string\" : \"str\",\n    \"boolean\": \"bool\"\n}\n\nexport function getClass(o: unknown) {\n\n    const typename = typeof o;\n\n    if( typename === \"function\" ) {\n        //TODO: is class ? is something else ?\n        return type;\n    }\n\n    if( typename === \"object\" ) {\n        // @ts-ignore;\n        return o.constructor;\n    }\n\n    // @ts-ignore\n    const lit_class = globalThis[mapper[typename]];\n    if( lit_class !== undefined)\n        return lit_class;\n\n    throw new Error(`JS type ${typename} not implemented yet`);\n}","import { getClass } from \"../helpers/getClass\";\n\n// @ts-ignore\nconst NotImplemented = globalThis.NotImplemented = Symbol();\n\nexport default function op(a: unknown, op: string, b: unknown) {\n    const ka = getClass(a);\n\n    if( ka === undefined ) {\n        console.warn(a, op);\n        throw new Error(\"?\")\n    }\n\n    let fct = ka.prototype[`__${op}__`];\n\n    if( fct === undefined ) {\n        if( op === \"ne\" )\n            return ! ka.prototype[\"__eq__\"].call(a, b);\n        if( op[0] === \"i\")\n            fct = ka.prototype[`__${op.slice(1)}__`];\n        if( fct === undefined)\n            fct = defaults[op as keyof typeof defaults];\n    }\n    \n    let result = fct.call(a, b);\n\n    if( result === NotImplemented) {\n\n        const kb = getClass(b);\n        if( kb === undefined ) {\n            console.warn(b, \"r\" + op);\n            throw new Error(\"?\");\n        }\n\n        let fct = kb.prototype[`__r${op}__`];\n        result = fct.call(b, a);\n    }\n\n    return result;\n}\n\n//TODO: move to corelib ?\nconst defaults = {\n    eq: function(b: unknown) { return this == b }\n}","export let KW: Record<string, any>|null = null;\n\nexport const IGNORE_ARG = Symbol();\n\nexport function setKW(args: Record<string, any>) {\n    KW = args;\n    return IGNORE_ARG;\n}\n\nexport function getKW() {\n    if( KW === null )\n        return {};\n    const args = KW;\n    KW = null;\n    return args;\n}","import \"@RBrython/rbry/runlib\";\n\nimport Runner, { PyModule } from \"./interface\";\nimport { $RB } from \"@RBrython/rbry/runlib\";\n\n// h4ck\n// @ts-ignore\nglobalThis.$RB = $RB;\n\nexport const modules: Record<string, any> = {};\n\nexport default class RBrythonGlobalRunner extends Runner {\n\n    #module   = modules; // h4ck\n    #builtins: Record<string, any> = {};\n\n    override run(jscode: string) {\n        return this.runFunction( this.loadAsFunction(jscode) );\n    }\n\n    override loadAsFunction(jscode: string): (runlib: any) => PyModule {\n        return Function(\"$RB\", jscode) as (runlib: any) => PyModule;\n    }\n    override runFunction( fct: (runlib: any) => PyModule ) {\n        return fct($RB);\n    }\n\n    // modules\n    override registerModule(name: string, symbols: PyModule): void {\n        this.#module[name] = symbols;\n    }\n    override getModule(name: string): PyModule {\n        return this.#module[name];\n    } \n\n    // builtins\n    override registerBuiltins(symbols: PyModule): void {\n        for(let name in symbols)\n            this.registerBuiltin(name, symbols[name]);\n    }\n    override registerBuiltin(name: string, value: any): void {\n        this.#builtins[name] = value;\n\n        // @ts-ignore\n        globalThis[name] = value;\n    }\n\n    /*\n    // helpers\n    override registerHelpers(helpers: Record<string, any>) {\n        for(let name in helpers)\n            this.registerHelper(name, helpers[name]);\n    }\n    override registerHelper(name: string, value: any) {\n        \n    }*/\n}","// interface\nimport op     from \"./interface/op\";\nimport uop    from \"./interface/uop\";\nimport call   from \"./interface/call\";\nimport mcall  from \"./interface/mcall\";\nimport assert from \"./interface/assert\";\nimport attr   from \"./interface/attr\";\nimport setattr from \"./interface/setattr\";\nimport getModule from \"./interface/getModule\";\nimport { getKW, setKW } from \"./interface/KW\";\n\nexport const $RB = {\n    // interface\n    op,\n    uop,\n    call,\n    mcall,\n    assert,\n    attr,\n    setattr,\n    getKW,\n    setKW,\n    getModule\n}\n\n//TODO: corelib\nimport { getClass } from \"./helpers/getClass\";\n\n// @ts-ignore\nglobalThis.type = function(a: unknown) { // __new__ for type...\n    return getClass(a); //TODO...\n}\n\n// @ts-ignore\nglobalThis.abs = function( a: unknown) {\n    const ka = getClass(a);\n    return ka.prototype[`__abs__`].call(a);\n}\n\n// @ts-ignore\nglobalThis.range = function*(a: number) {\n    for(let i = 0; i < a; ++i)\n        yield i;\n}\n\n// @ts-ignore\nglobalThis.Exception = function(msg: string) {\n    throw new Error(msg);\n}\n\n// =====================================================\n\n//TODO: as macro...\nexport const IVALUE = Symbol();\n\n// @ts-ignore\nglobalThis.__JS_SET_IVALUE__ = (self, v) => self[IVALUE] = v;\n// @ts-ignore\nglobalThis.__JS_GET_IVALUE__ = (self) => self[IVALUE];","import { getClass } from \"../helpers/getClass\";\n\nexport default function uop(op:string, a: unknown) {\n\n    if( op === \"not\") {\n        // @ts-ignore\n        return ! a;\n    }\n\n    const ka = getClass(a);\n\n    if( ka === undefined ) {\n        console.warn(a, op);\n        throw new Error(\"?\")\n    }\n\n    let fct = ka.prototype[`__${op}__`];\n    return fct.call(a);\n}","import { getClass } from \"../helpers/getClass\";\nimport isClass from \"../helpers/isClass\";\nimport { IGNORE_ARG } from \"./KW\";\n\nexport default function call(a: (...args:unknown[]) => unknown, ...args: unknown[]) {\n\n    if( args[args.length-1] === IGNORE_ARG)\n        args = args.slice(0,-1);\n\n    // @ts-ignore\n    let fct = a.__call__\n\n    if( fct === undefined ) {\n        fct = a;\n\n        // h4cky\n        if( fct.prototype?.__new__ !== undefined ) {\n            const b = getClass(fct).prototype.__call__;\n            if( b !== undefined) {\n                return b.call(fct, ...args);\n            }\n        }\n\n        if( isClass(fct) ) // only for JS classes now...\n            return new fct(...args);\n    }\n\n    return fct(...args);\n}\n","export default function isClass(o: unknown) {\n    // from https://stackoverflow.com/questions/526559/testing-if-something-is-a-class-in-javascript\n    return Object.getOwnPropertyDescriptors(o)?.prototype?.writable === false;\n}\n// + https://github.com/brython-dev/brython/issues/2513","import { IGNORE_ARG } from \"./KW\";\n\nexport default function mcall(o: unknown, name: string, ...args: unknown[]) {\n    \n    if( args[args.length-1] === IGNORE_ARG)\n        args = args.slice(0,-1);\n    \n    // @ts-ignore\n    let fct = o[name];\n    if( fct === undefined)\n        // @ts-ignore\n        return o.prototype[name].call(...args);\n\n    // @ts-ignore\n    return o[name](...args);\n}","export default function assert(cond: boolean) {\n    if( ! cond )\n        throw new Error(`Assertion failed`);\n}","export default function attr(o: any, attr: string) {\n    if( ! (attr in o) )\n        return o.constructor[attr];\n    return o[attr];\n}","export default function setattr(obj: object, key: string, value:unknown) {\n    // @ts-ignore\n    return obj[key] = value;\n}","import { modules } from \"@RBrython/rbry/runners/RBrythonGlobalRunner\";\n\nexport default function getModule(name: string) {\n\n    // h4ck\n    const module = modules[name];\n    if( module === undefined )\n        throw new Error(`module ${name} not found`);\n\n    return module;\n}\n    ","// list is filled in list.ts in order to prevent circular dependency.\n\nimport { ASTNode, SymTab } from \"../../ast/types\";\n\nexport type Handler = (    node: ASTNode,\n                        symtab?: SymTab,\n                        ...args: unknown[]) => string;\n\nconst Handlers: Record<string, Handler> = {};\n\nexport default Handlers;","import { ASTNode, OperatorNode } from \"./types\";\n\nexport function nodeType(node: ASTNode): string {\n    // @ts-ignore\n    return node.constructor.$name;\n}\n\nexport function getOp(op: OperatorNode): string {\n    // @ts-ignore\n    return op.constructor.$name\n}","import { nodeType } from \"../ast\";\nimport { ASTNode, SymTab } from \"../ast/types\";\nimport Handlers from \"./handlers\";\n\nexport function node2js(node: ASTNode, symtab?: SymTab, ...args: unknown[]): string {\n\n    const handler = Handlers[nodeType(node) as keyof typeof Handlers];\n\n    if( handler === undefined) {\n        console.warn(node);\n        throw new Error(`Node type ${nodeType(node)} is unknown`);\n    }\n\n    return handler(node, symtab, ...args);\n}\n","import { BodyNode, SymTab } from \"../../ast/types\";\nimport { node2js } from \"../node2js\";\n\nexport default function(body: BodyNode, symtab: SymTab) {\n\n    let res = \"\";\n    for(let i = 0; i < body.length; ++i)\n        res += node2js(body[i], symtab) + \";\\n\";\n\n    return res;\n}","import { getOp } from \"../../../ast/\";\nimport { BinaryOpNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function(node: BinaryOpNode) {\n    const a = node.left;\n    const b = node.right;\n    const op = getOp(node.op) as keyof typeof binops;\n\n    const opname = binops[op];\n    if( opname === undefined) \n        throw new Error(`BinOp ${op} not impl`);\n\n    return `$RB.op(${node2js(a)}, \"${opname}\", ${node2js(b)})`;\n}\n\nexport const binops = {\n    Add : \"add\",\n    Sub : \"sub\",\n    Mult: \"mul\",\n    Div : \"div\",\n    Pow : \"pow\",\n    Mod : \"mod\",\n    // bits\n    BitOr: \"or\",\n    BitAnd: \"and\",\n    LShift: \"lshift\",\n    RShift: \"rshift\"\n}","import { node2js } from \"../../node2js\";\nimport { nodeType } from \"../../../ast\";\nimport { ASTNode, AttributeNode, CallNode } from \"../../../ast/types\";\n\nexport type Macro = (...args: ASTNode[]) => string;\nexport const macros: Record<string, Macro> = {};\n\nexport default function Call(node: CallNode) {\n    const f        = node.func;\n    const args     = node.args;\n    const keywords = node.keywords;\n\n    // @ts-ignore\n    if( f.id in macros)\n        // @ts-ignore\n        return macros[f.id]( ...node.args );\n\n    //TODO: args parsing...\n    let str = \"\";\n    for(let i = 0; i < args.length; ++i)\n        str += node2js(args[i]) + \", \";\n\n    if( keywords.length ) {\n        str += \"$RB.setKW({\";\n            for( let i = 0; i < keywords.length; ++i)\n                // @ts-ignore\n                str += `${keywords[i].arg}: ${node2js(keywords[i].value)},`;\n        str += \"})\";\n    }    \n\n    if( nodeType(f) === \"Attribute\") {\n        const m = f as AttributeNode;\n        return `$RB.mcall(${node2js(m.value)}, \"${m.attr}\", ${str} )`;\n    }\n\n    return `$RB.call(${node2js(f)}, ${str})`;\n}","import { CompareNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\nimport { getOp } from \"../../../ast/\";\n\nexport default function Compare(node: CompareNode) {\n\n    const a = node.left;\n    const op = getOp(node.ops[0]) as keyof typeof cmpops | \"Is\";\n    const b  = node.comparators[0];\n\n    if( op === 'Is' ) return `${node2js(a)} === ${node2js(b)}`;\n    \n    const opname = cmpops[op];\n    if( opname === undefined) {\n        console.warn(op);\n        throw new Error(`CmpOp ${op} not impl`);\n    }\n\n    return `$RB.op(${node2js(a)}, \"${opname}\", ${node2js(b)})`;\n}\n\nconst cmpops = {\n    Eq   : \"eq\",\n    NotEq: \"ne\"\n}\n","import { UnaryOpNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\nimport { getOp } from \"../../../ast/\";\n\nexport default function(node: UnaryOpNode) {\n\n    const a = node.operand;\n    const op = getOp(node.op) as keyof typeof uops;\n\n    const opname = uops[op];\n    if( opname === undefined) \n        throw new Error(`UnaryOp ${op} not impl`);\n\n    return `$RB.uop(\"${opname}\", ${node2js(a)})`;\n}\n\nconst uops = {\n    Invert: \"invert\",\n    USub: \"neg\",\n    // pos\n\n    // special:\n    Not: \"not\", // use __len__ or __bool__\n}","import { JSCode } from \"./interface\";\n\nexport function RawTarget(jscode: JSCode) {\n    return jscode.jscode;\n}","import Handlers, { Handler } from \"./index\";\n\nimport {default as ClassDef} from \"./definitions/ClassDef\";\nHandlers[\"ClassDef\"] = ClassDef as Handler;\n\nimport {default as FunctionDef} from \"./definitions/FunctionDef\";\nHandlers[\"FunctionDef\"] = FunctionDef as Handler;\n\nimport {default as Lambda} from \"./definitions/Lambda\";\nHandlers[\"Lambda\"] = Lambda as Handler;\n\nimport {default as Arguments} from \"./definitions/Arguments\";\nHandlers[\"arguments\"] = Arguments as Handler;\n\nimport {default as Assert} from \"./keywords/Assert\";\nHandlers[\"Assert\"] = Assert as Handler;\n\nimport {default as Pass} from \"./keywords/Pass\";\nHandlers[\"Pass\"] = Pass as Handler;\n\nimport {default as Return} from \"./keywords/Return\";\nHandlers[\"Return\"] = Return as Handler;\n\n\nimport {default as Assign} from \"./operators/Assign\";\nHandlers[\"Assign\"] = Assign as Handler;\n\nimport {default as Attribute} from \"./operators/Attribute\";\nHandlers[\"Attribute\"] = Attribute as Handler;\n\nimport {default as AugAssign} from \"./operators/AugAssign\";\nHandlers[\"AugAssign\"] = AugAssign as Handler;\n\nimport {default as BinOp} from \"./operators/BinOp\";\nHandlers[\"BinOp\"] = BinOp as Handler;\n\nimport {default as Call} from \"./operators/Call\";\nHandlers[\"Call\"] = Call as Handler;\n\nimport {default as Compare} from \"./operators/Compare\";\nHandlers[\"Compare\"] = Compare as Handler;\n\nimport {default as UnaryOp} from \"./operators/UnaryOp\";\nHandlers[\"UnaryOp\"] = UnaryOp as Handler;\n\nimport {default as Constant} from \"./vars/Constant\";\nHandlers[\"Constant\"] = Constant as Handler;\n\nimport {default as Expr} from \"./vars/Expr\";\nHandlers[\"Expr\"] = Expr as Handler;\n\nimport {default as Name} from \"./vars/Name\";\nHandlers[\"Name\"] = Name as Handler;\n\nimport {default as JoinedStr} from \"./vars/JoinedStr\";\nHandlers[\"JoinedStr\"] = JoinedStr as Handler;\n\nimport {default as If} from \"./controlflows/If\";\nHandlers[\"If\"] = If as Handler;\n\nimport {default as While} from \"./controlflows/While\";\nHandlers[\"While\"] = While as Handler;\n\nimport {default as For} from \"./controlflows/For\";\nHandlers[\"For\"] = For as Handler;\n\nimport {default as Try} from \"./controlflows/Try\";\nHandlers[\"Try\"] = Try as Handler;\n\nimport {default as Match} from \"./controlflows/Match\";\nHandlers[\"Match\"] = Match as Handler;\n\nimport {default as Continue} from \"./keywords/Continue\";\nHandlers[\"Continue\"] = Continue as Handler;\n\nimport {default as Break} from \"./keywords/Break\";\nHandlers[\"Break\"] = Break as Handler;\n\nimport {default as Raise} from \"./keywords/Raise\";\nHandlers[\"Raise\"] = Raise as Handler;\n\nimport {default as ImportFrom} from \"./imports/ImportFrom\";\nHandlers[\"ImportFrom\"] = ImportFrom as Handler;\n\nimport {default as Import} from \"./imports/Import\";\nHandlers[\"Import\"] = Import as Handler;\n\nimport {default as BoolOp} from \"./operators/BoolOp\";\nHandlers[\"BoolOp\"] = BoolOp as Handler;\n\n","import { node2js } from \"../../node2js\";\nimport { ClassDefNode, SymTab } from \"../../../ast/types\";\nimport Body from \"../Body\";\n\nexport default function ClassDef(node: ClassDefNode, symtab: SymTab) {\n\n    const name = node.name;\n    const body = node.body;\n\n    const csymtab = symtab.children.find( (e) => e.name === name)!;\n\n    // JS cstr\n    let str = `var ${name} = (() =>{\n        function ${name}() {\n            return Object.create(${name}.prototype);\n        }\n    `;\n\n    // inheritance\n\n    // @ts-ignore\n    const isH4ck = node.bases.length === 1 && [\"number\", \"bigint\", \"boolean\", \"string\"].includes(node.bases[0].id);\n\n    if( !isH4ck && node.bases.length >= 1) {\n        str += `${name}.prototype = Object.create(${node2js(node.bases[0])}.prototype);\\n`;\n    \n        for(let i = 1; i < node.bases.length; ++i) {\n\n            str += `Object.assign(${name}.prototype, ${node2js(node.bases[i])}.prototype);`;\n        }\n\n        str += `${name}.prototype.constructor = ${name};\\n`;\n    }\n\n    // body...\n    str += Body(body, csymtab);\n\n    str += `\n        return ${name};\n    })();\n    `;\n\n    return str;\n}","import Body from \"../Body\";\nimport { node2js } from \"../../node2js\";\nimport { CLASS, FunctionDefNode, SymTab } from \"../../../ast/types\";\n\nexport default function FunctionDef(node: FunctionDefNode, symtab: SymTab) {\n\n    const isMethod = symtab.type === CLASS;\n\n    const name = node.name;\n    const body = node.body;\n\n    const fsymtab = symtab.children.find( (e) => e.name === name)!;\n\n    let result = \"\";\n    if( symtab.type === CLASS )\n        result += `${symtab.name}.prototype.${name} = `;\n\n    for( let i = 0; i < node.decorator_list.length ; ++i )\n        result += `${node2js(node.decorator_list[i])}(`;\n\n    result += `function ${name}(`;\n\n    result += node2js(node.args, symtab, isMethod);\n\n    result += \"){\";\n\n    if( isMethod ) {\n        let selfname = \"\";\n        if( node.args.posonlyargs.length > 0)\n            selfname = node.args.posonlyargs[0].arg;\n        else\n            selfname = node.args.args[0].arg;\n        result += `const ${selfname} = this;`; //TODO: prefer var renaming...\n    }\n\n    result += `\n        ${Body(body, fsymtab)}\n    }`;\n\n    for( let i = 0; i < node.decorator_list.length ; ++i )\n        result += \")\";\n\n    return result;\n}","export const FUNCTION = 0;\nexport const CLASS    = 1;\nexport const BODY     = 1;\n\nexport type SymTab = {\n    name    : string;\n    children: SymTab[];\n    symbols : {\n        $strings: Record<string, number>\n    }\n    type: typeof FUNCTION|typeof CLASS|typeof BODY;\n};\n\nexport type ParsedCode = {\n    filename: string,\n    pycode  : string,\n    ast     : ModuleNode,\n    symtable: SymTab,\n};\n\nexport type ASTNode = {};\n\nexport type BodyNode = ASTNode[];\n\nexport type ModuleNode = {\n    body: BodyNode\n} & ASTNode;\n\nexport type ExprNode = {\n    value: ASTNode\n}\n\nexport type ConstantNode = {\n    value: number|string|boolean|{value: number|bigint}\n}\n\nexport type AssertNode = {\n    test: ASTNode\n}\n\nexport type OperatorNode = unknown; // better to shadow it...\n\nexport type UnaryOpNode = {\n    operand: ASTNode;\n    op     : OperatorNode; \n}\n\nexport type BinaryOpNode = {\n    left : ASTNode;\n    right: ASTNode;\n    op   : OperatorNode;\n}\n\nexport type CompareNode = {\n    left       : ASTNode;\n    ops        : OperatorNode[];\n    comparators: ASTNode[];\n}\n\nexport type NameNode = {\n    id: string;\n}\n\nexport type AssignNode = {\n    value  : ASTNode;\n    targets: ASTNode[];\n}\n\nexport type AugAssignNode = {\n    target : ASTNode;\n    value  : ASTNode;\n    op     : OperatorNode;\n}\n\n\nexport type ReturnNode = {\n    value  : ASTNode;\n}\n\nexport type PassNode = {}\n\nexport type AttributeNode = {\n    value: ASTNode;\n    attr : string;\n}\n\nexport type CallNode = {\n    func    : ASTNode\n    args    : ASTNode[],\n    keywords: ASTNode[]\n}\n\nexport type ClassDefNode = {\n    name: string;\n    body: BodyNode;\n    bases: ASTNode[];\n}\n\nexport type ArgsDefNode = {\n    posonlyargs: ArgDefNode[];\n    args       : ArgDefNode[];\n}\n\nexport type ArgDefNode = {\n    arg: string\n}\n\nexport type LambdaDefNode = {\n    args: ArgsDefNode;\n    body: BodyNode;\n}\n\nexport type FunctionDefNode = {\n    name: string;\n    posonlyargs: ASTNode[];\n    args: ArgsDefNode;\n    body: BodyNode;\n    decorator_list: ASTNode[]\n}\n\nexport type IfNode = {\n    test: ASTNode;\n    body: BodyNode;\n    orelse: ASTNode[];\n}\n\nexport type WhileNode = {\n    test: ASTNode;\n    body: BodyNode;\n    //TODO: orelse\n}\n\nexport type ForNode = {\n    target: ASTNode;\n    iter  : ASTNode;\n    body  : BodyNode;\n    //TODO: orelse\n}\n\nexport type RaiseNode = {\n    exc: ASTNode;\n}\n\nexport type TryNode = {\n    body: BodyNode;\n    handlers: ASTNode[];\n}\n\nexport type JoinedStrNode = {\n    values: ASTNode[]\n}","import { LambdaDefNode, SymTab } from \"@RBrython/rbry/ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function Lambda(node: LambdaDefNode, symtab: SymTab): string {\n    \n    const args = node2js(node.args, symtab);\n\n    return `(${args}) => { return ${node2js(node.body)}}`\n}","import { ArgsDefNode, SymTab } from \"@RBrython/rbry/ast/types\";\n\n//TODO: vararg + kw => dans le corps...\nexport default function Arguments(node: ArgsDefNode,\n                                symtab: SymTab,\n                              isMethod: boolean = false) {\n    \n    let result = \"\";\n\n    // if method => ignore first parameter...\n    let pos_offset = 0;\n    let arg_offset = 0;\n\n    if( isMethod ) {\n        if( node.posonlyargs.length)\n            ++pos_offset\n        else\n            ++arg_offset;\n    }\n\n    for(let i = pos_offset; i < node.posonlyargs.length; ++i)\n        result += `${node.posonlyargs[i].arg}, `;\n\n    for(let i = arg_offset; i < node.args.length; ++i)\n        result += `_${node.args[i].arg}, `;\n\n    if( node.args.length ) {\n        // kw...\n        result += \"{\";\n        for( let i = arg_offset ; i < node.args.length; ++i)\n            result += `${node.args[i].arg} = _${node.args[i].arg}, `;\n        result += \"} = $RB.getKW()\";\n    }\n\n    return result;\n}","import { MODE } from \"../..\";\nimport { AssertNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function Assert(node: AssertNode) {\n\n    // @ts-ignore\n    if( globalThis.mode === MODE.PROD )\n        return \"\";\n\n    return `$RB.assert(${node2js(node.test)})`;\n}","import { PassNode } from \"../../../ast/types\";\n\nexport default function Pass(node: PassNode) {\n    return \"\";\n}","import { ReturnNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function Return(node: ReturnNode) {\n    return `return ${ node2js(node.value) }`;\n}","import { nodeType } from \"@RBrython/rbry/ast\";\nimport { AssignNode, SymTab } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function Assign(node: AssignNode, symtab: SymTab) {\n\n    let res = \"\";\n\n    let prefix = \"var \";\n    const type = nodeType(node.targets[0]);\n    if( type === \"Attribute\" )\n        // @ts-ignore\n        return `$RB.setattr(${node2js(node.targets[0].value)}, \"${node.targets[0].attr}\", ${node2js(node.value)})`;\n\n    for(let i = 1; i < node.targets.length; ++i)\n        res += `${prefix}${node2js(node.targets[i])};`;\n\n    res += prefix + node2js(node.targets[0]) + \" = \";\n    for(let i = 1; i < node.targets.length; ++i)\n        res += node2js(node.targets[i]) + \" = \";\n\n    return res + node2js(node.value);\n}","import { AttributeNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function (node: AttributeNode) {\n    return `$RB.attr(${node2js(node.value)}, \"${node.attr}\")`;\n}","import { AugAssignNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\nimport { binops } from \"./BinOp\";\nimport { getOp } from \"../../../ast/\";\n\nexport default function AugAssign(node: AugAssignNode) {\n \n    const a  = node.target;\n    const op = getOp(node.op) as keyof typeof binops;\n    const b  = node.value;\n\n    const opname = binops[op];\n    if( opname === undefined) \n        throw new Error(`BinOp ${op} not impl`);\n\n    return `${node2js(a)} = $RB.op(${node2js(a)}, \"i${opname}\", ${node2js(b)})`;   \n}","import { ConstantNode } from \"../../../ast/types\";\n\nexport default function Constant(node: ConstantNode) {\n\n        const type = typeof node.value;\n\n        if( type === \"object\") {\n            // @ts-ignore\n            const qname = node.value.__class__.__qualname__\n            // @ts-ignore\n            const value: float|bigint = node.value.value;\n\n            if( qname === \"float\"   ) return `${value}`;\n            if( qname === \"int\"     ) return `${value}n`;\n            if( qname === \"NoneType\") return \"null\";\n            //if( qname === \"ellipsis\") return \"$RB.ellipsis\";\n        }\n        if( type === \"string\" ) return `\"${node.value}\"`;\n        if( type === \"number\" ) return `${node.value}n`; // bigint\n        if( type === \"boolean\") return `${node.value}`;\n\n        console.warn(node, type);\n        throw new Error(`Unknown Cste ${type}`);\n}","import { ExprNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function Expr(node: ExprNode) {\n    return node2js(node.value);\n}","import { NameNode } from \"../../../ast/types\";\n\nexport default function Name(node: NameNode) {\n\n    // h4ck\n    if( node.id === \"__debug__\")\n        // @ts-ignore\n        return `${globalThis.mode === MODE.DEBUG}`;\n\n    return node.id;\n}","import { nodeType } from \"../../../ast/\";\nimport { node2js } from \"../../node2js\";\nimport { JoinedStrNode } from \"../../../ast/types\";\n\nexport default function JoinedStr(node: JoinedStrNode) {\n\n    console.warn(node);\n\n    let res = \"`\";\n    for(let i = 0; i < node.values.length; ++i) {\n        const value = node.values[i];\n        const type  = nodeType(value);\n\n        if( type === \"Constant\")\n            // @ts-ignore\n            res += value.value;\n        else {\n            // @ts-ignore\n            res += `\\${${node2js(value.value)}}`;\n        }\n    }\n    res += \"`\";\n    return res;\n}","import { IfNode, SymTab } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\nimport Body from \"../Body\";\nimport { nodeType } from \"../../../ast/\";\n\nexport default function If(node: IfNode, symtab: SymTab) {\n\n    let str = `if( ${node2js(node.test)} ) {\n        ${ Body(node.body, symtab) }\n    }`;\n\n    for(let i = 0; i < node.orelse.length; ++i) {\n        const snode = node.orelse[i];\n        const type = nodeType(snode);\n\n        if( type === \"If\")\n            str += \"else \" + node2js(snode);\n        else\n            str += `else { ${node2js(snode)} }`;\n    }\n\n    return str;\n}","import { SymTab, WhileNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\nimport Body from \"../Body\";\n\nexport default function While(node: WhileNode, symtab: SymTab) {\n\n    return `while( ${node2js(node.test)} ) {\n        ${Body(node.body, symtab)}\n    }`;\n\n}","import { ForNode, SymTab } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\nimport Body from \"../Body\";\n\nexport default function For(node: ForNode, symtab: SymTab) {\n    return `for(${node2js(node.target)} of ${node2js(node.iter)}){\n        ${Body(node.body, symtab)}\n    }`;\n}","import { SymTab, TryNode } from \"../../../ast/types\";\nimport Body from \"../Body\";\n\nexport default function Try(node: TryNode, symtab: SymTab) {\n    //TODO...\n    return `try {\n        ${Body(node.body, symtab)}\n    } catch {\n        ${  // @ts-ignore\n            Body(node.handlers[0].body, symtab)\n        }\n    }`;\n}","import { ASTNode, SymTab } from \"@RBrython/rbry/ast/types\";\nimport { node2js } from \"../../node2js\";\nimport Body from \"../Body\";\n\nexport default function Match(node: ASTNode, symtab: SymTab) {\n\n    let result = \"{\";\n\n    // @ts-ignore\n    result += `const tname = type(${node2js(node.subject)}).name;`\n\n    // @ts-ignore\n    for(let i = 0; i < node.cases.length -1; ++i) {\n        if( i !== 0)\n            result += \"else \";\n        // @ts-ignore\n        result += `if( tname === \"${node.cases[i].pattern.cls.id}\") {\n            ${  // @ts-ignore\n                Body(node.cases[i].body, symtab)}\n        }`;\n    }\n    result += `else {\n            ${  // @ts-ignore\n                Body(node.cases[node.cases.length-1].body, symtab)}\n    }`;\n\n    result += \"}\";\n\n    return result;\n}","import { ASTNode } from \"../../../ast/types\";\n\nexport default function Continue(node: ASTNode) {\n    return \"continue;\"\n}","import { ASTNode } from \"../../../ast/types\";\n\nexport default function Break(node: ASTNode) {\n    return \"break;\"\n}","import { RaiseNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function Raise(node: RaiseNode) {\n    return `throw ${node2js(node.exc)};`;\n}","import { ASTNode } from \"../../../ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function ImportFrom(node: ASTNode) {\n\n    // @ts-ignore\n    const module = node.module;\n\n    if( module === \"RBM\" )\n        return \"\"; // Brython macros...\n\n    if( module === \"types\" || module === \"typing\")\n        return \"\"; // ignore for now\n    if( module === \"functools\") {\n        console.warn(\"Import not implemented yet\");\n        return \"\";\n    }\n    let res = \"const {\";\n\n    // @ts-ignore\n    for(let i = 0; i < node.names.length; ++i)\n        // @ts-ignore\n        res += `${node.names[i].name},`;\n\n    return res + `} = $RB.getModule(\"${module}\")`;\n}","import { ASTNode } from \"../../../ast/types\";\n\nexport default function Import(node: ASTNode) {\n\n    // @ts-ignore\n    const module = node.names[0].name;\n\n    if( module === \"RBM\" )\n        return \"\"; // Brython macros...\n\n    return `const ${module} = $RB.getModule(\"${module}\")`;\n}","import { getOp } from \"@RBrython/rbry/ast\";\nimport { ASTNode } from \"@RBrython/rbry/ast/types\";\nimport { node2js } from \"../../node2js\";\n\nexport default function BoolOp(node: ASTNode) {\n\n    // @ts-ignore\n    const op = getOp(node.op);\n\n    let jsop = \"\";\n    if( op === \"Or\")\n        jsop = \"||\";\n    if( op === \"And\")\n        jsop = \"&&\";\n\n    // @ts-ignore\n    return `${node2js(node.values[0])}${jsop}${node2js(node.values[1])}`;\n}","// quick h4ck (should move it).\nimport \"../runlib\";\nimport \"./handlers/list\"; // ensure Handlers are loaded.\n\nimport { ParsedCode } from \"../ast/types\";\nimport Body from \"./handlers/Body\";\nimport { Macro, macros } from \"./handlers/operators/Call\";\nimport { Target } from \"../targets/interface\";\nimport { RawTarget } from \"../targets/raw\";\n\nexport enum MODE {\n  DEBUG,\n  TEST,\n  PROD,\n}\n\nexport type EmitterOptions = {\n    mode  : MODE,\n    target: Target\n}\n\nconst EmitterDefaults: EmitterOptions = {\n    mode  : MODE.DEBUG,\n    target: RawTarget\n}\n\nexport abstract class Emitter {\n    abstract emit(parsed: ParsedCode, opts?: Partial<EmitterOptions>): string;\n\n    abstract registerMacros(macros: Record<string, Macro>):void;\n    abstract registerMacro(name: string, fct: Macro): void;\n}\n\nexport default class RBrythonEmitter extends Emitter {\n\n    protected readonly macros = macros;\n\n    registerMacros(macros: Record<string, Macro>) {\n        for(let name in macros)\n            this.macros[name] = macros[name];\n    }\n    registerMacro(name: string, fct: Macro) {\n        this.macros[name] = fct;\n    }\n\n    emit(parsed: ParsedCode, {\n                                mode   = EmitterDefaults.mode,\n                                target = EmitterDefaults.target\n                            }: Partial<EmitterOptions> = {}) {\n\n        // @ts-ignore\n        globalThis.mode = mode;\n\n        const bodyNode = parsed.ast.body;\n\n        const body    = Body(bodyNode, parsed.symtable);\n        const exported= this.extractExportedSymbols(parsed);\n\n        const jscode = body;\n\n        const output = {\n            name    : \"_\",\n            imported: [],\n            exported,\n            jscode,\n        }\n\n        return target(output);\n    }\n\n    private extractExportedSymbols(parsed: ParsedCode) {\n        \n        const symbols = parsed.symtable.symbols.$strings\n        return Object.keys(symbols)\n                     .filter( k => symbols[k] === 4098); // magic value\n    }\n}\n","import { ParsedCode } from \"../../ast/types\";\nimport parse from \"../../parser\";\nimport BrythonGlobalRunner from \"@RBrython/rbry/runners/BrythonGlobalRunner\";\nimport BaseEngine from \"../Base\";\nimport { Emitter } from \"@RBrython/rbry/emitter\";\nimport { Macro } from \"@RBrython/rbry/emitter/handlers/operators/Call\";\n\nclass BrythonEmitter extends Emitter {\n    emit(parsed: ParsedCode) {\n\n        let imported:any;\n        return $B.js_from_root({ast     : parsed.ast,\n                                symtable: parsed.symtable,\n                                filename: parsed.filename,\n                                src     : parsed.pycode,\n                                imported}).js\n    }\n\n    override registerMacros(macros: Record<string, Macro>) {\n        throw new Error(\"Not implemented\");\n    }\n    override registerMacro(name: string, fct: Macro) {\n        throw new Error(\"Not implemented\");\n    }\n}\n\nexport default function BrythonEngineFactory() {\n\n    const emitter = new BrythonEmitter();\n    const runner  = new BrythonGlobalRunner();\n    const engine  = new BaseEngine(parse, emitter, runner);\n\n    engine.registerModule(\"JS\", globalThis);\n    \n    // builtins are already included in Brython.\n\n    return engine;\n}","import { ASTNode } from \"../ast/types\";\nimport { node2js } from \"../emitter/node2js\";\n\nexport default function __JS_OP__(...args: ASTNode[]) {\n    \n    if(args.length === 2) // unary op\n        // @ts-ignore\n        return `${args[0].value}${node2js(args[1])}`;\n    \n    // binary op\n    // @ts-ignore\n    return `${node2js(args[0])} ${args[1].value} ${node2js(args[2])}`;\n}","import { ASTNode } from \"../ast/types\";\nimport { node2js } from \"../emitter/node2js\";\n\nexport default function __JS_RUN__(...args: ASTNode[]) {\n    // @ts-ignore\n    return `(${unescape(args[0].value)})(${args.slice(1).map(e=>node2js(e)).join(\",\")})`;\n}\n\nfunction unescape(str: string) {\n    str = str.replaceAll(\"\\\\n\\\\\", \"\\n\");\n    return str;\n}","import { ASTNode } from \"../ast/types\";\n\nexport default function __JS_WRITE__(code: ASTNode) {\n    // @ts-ignore\n    return code.value; //TODO: improve\n}","import { ASTNode } from \"../ast/types\";\nimport { node2js } from \"../emitter/node2js\";\n\nexport default function __JS_LOG__(...args: ASTNode[]) {\n\n    let result = \"console.log(\";\n\n    for(let i = 0; i < args.length; ++i)\n        result += node2js(args[i]) + \",\";\n\n    result += \");\"\n\n    return result;\n}","import { ASTNode } from \"../ast/types\";\nimport { node2js } from \"../emitter/node2js\";\n\nexport default function __JS_AS_STRING__(node: ASTNode) {\n    return \"`${\"+ node2js(node) + \"}`\";\n}","import { ASTNode } from \"../ast/types\";\nimport { node2js } from \"../emitter/node2js\";\n\nexport default function __JS_AS_NUMBER__(node: ASTNode) {\n    return `Number(${node2js(node)})`;\n}","import { BrythonTarget } from \"./brython\";\nimport { FunctionTarget } from \"./function\";\nimport { GlobalTarget } from \"./global\";\nimport { ModuleTarget } from \"./module\";\nimport { RawTarget } from \"./raw\";\n\nconst Targets = {\n    raw     : RawTarget,\n    function: FunctionTarget,\n    global  : GlobalTarget,\n    module  : ModuleTarget,\n    brython : BrythonTarget\n}\n\nexport default Targets;","import { JSCode } from \"./interface\";\n\nexport function GlobalTarget(jscode: JSCode) {\n    return `${jscode.jscode}globalThis.${jscode.name} = {${jscode.exported.join(\", \")}};`;\n}","import { JSCode } from \"./interface\";\n\nexport function ModuleTarget(jscode: JSCode) {\n    return `${jscode.jscode}export {${jscode.exported.join(\", \")}};`;\n}","import { JSCode } from \"./interface\";\n\nexport function BrythonTarget(jscode: JSCode) {\n    return `${jscode.jscode}\\n$B.imported[\"${jscode.name}\"] = $B.jsobj2pyobj({${jscode.exported.join(',')}});`;\n}","import Engines from \"@RBrython/rbry/engines/\";\n\nexport {default as Targets} from \"@RBrython/rbry/targets\";\n\nexport default Engines;","import  BrythonEngineFactory from \"./Brython\";\nimport RBrythonEngineFactory from \"./RBrython\";\n\nexport default class Engines {\n    static getBrythonEngine() {\n        return  BrythonEngineFactory();\n    }\n    static getRBrythonEngine() {\n        return RBrythonEngineFactory();\n    }\n}","import RBrythonGlobalRunner from \"@RBrython/rbry/runners/RBrythonGlobalRunner\";\nimport BaseEngine from \"../Base\";\nimport parse from \"@RBrython/rbry/parser\";\nimport RBrythonEmitter from \"@RBrython/rbry/emitter\";\nimport __JS_OP__ from \"@RBrython/rbry/macros/__JS_OP__\";\nimport __JS_RUN__ from \"@RBrython/rbry/macros/__JS_RUN__\";\nimport __JS_WRITE__ from \"@RBrython/rbry/macros/__JS_WRITE__\";\nimport __JS_LOG__ from \"@RBrython/rbry/macros/__JS_LOG__\";\nimport __JS_AS_STRING__ from \"@RBrython/rbry/macros/__JS_AS_STRING__\";\nimport __JS_AS_NUMBER__ from \"@RBrython/rbry/macros/__JS_AS_NUMBER__\";\n\nexport default function RBrythonEngineFactory() {\n\n    const emitter = new RBrythonEmitter();\n    const runner  = new RBrythonGlobalRunner();\n    const engine = new BaseEngine(parse, emitter, runner);\n\n    engine.registerMacros({\n        __JS_OP__,\n        __JS_AS_STRING__,\n        __JS_AS_NUMBER__,\n        __JS_LOG__,\n        __JS_RUN__,\n        __JS_WRITE__,\n    })\n\n    engine.registerModule(\"JS\", globalThis);\n\n    const builtins = [\n        require(\"!!raw-loader!../../corelib/int.py\"  ).default,\n        require(\"!!raw-loader!../../corelib/float.py\").default,\n        require(\"!!raw-loader!../../corelib/bool.py\" ).default,\n        require(\"!!raw-loader!../../corelib/str.py\"  ).default,\n        require(\"!!raw-loader!../../corelib/mfct.py\"  ).default\n    ]\n    for(let builtin of builtins)\n        engine.registerBuiltins(builtin);\n\n    return engine;\n}"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","parse","pycode","filename","parser","$B","Parser","ast","_PyPegen","run_parser","future","future_features","symtable","_PySymtable_Build","Runner","RBrythonGlobalRunner","run","jscode","this","runFunction","loadAsFunction","imported","Function","fct","registerBuiltins","symbols","name","registerBuiltin","value","builtins","jsobj2pyobj","registerModule","getModule","Engine","FunctionTarget","exported","join","BaseEngine","emitter","runner","constructor","super","opts","emit","target","registerMacros","macros","registerMacro","parsed","type","__call__","args","console","warn","factory","__new__","self","init","__init__","__eq__","b","mapper","getClass","typename","lit_class","globalThis","Error","NotImplemented","Symbol","defaults","eq","KW","IGNORE_ARG","$RB","modules","op","a","ka","slice","result","kb","uop","length","getOwnPropertyDescriptors","writable","mcall","assert","cond","attr","setattr","getKW","setKW","abs","range","i","Exception","msg","IVALUE","__JS_SET_IVALUE__","v","__JS_GET_IVALUE__","nodeType","node","$name","getOp","node2js","symtab","handler","Handlers","body","res","binops","Add","Sub","Mult","Div","Pow","Mod","BitOr","BitAnd","LShift","RShift","cmpops","Eq","NotEq","uops","Invert","USub","Not","RawTarget","csymtab","children","find","e","str","bases","includes","id","Body","isMethod","fsymtab","decorator_list","selfname","posonlyargs","arg","pos_offset","arg_offset","mode","MODE","PROD","test","prefix","targets","opname","left","right","f","func","keywords","m","ops","comparators","operand","qname","__class__","__qualname__","DEBUG","values","orelse","snode","iter","handlers","subject","cases","pattern","cls","exc","names","jsop","EmitterDefaults","Emitter","RBrythonEmitter","extractExportedSymbols","$strings","keys","filter","k","BrythonEmitter","js_from_root","src","js","__JS_OP__","__JS_RUN__","replaceAll","map","__JS_WRITE__","code","__JS_LOG__","__JS_AS_STRING__","__JS_AS_NUMBER__","raw","function","global","brython","getBrythonEngine","BrythonGlobalRunner","engine","BrythonEngineFactory","getRBrythonEngine","require","builtin","RBrythonEngineFactory"],"sourceRoot":""}