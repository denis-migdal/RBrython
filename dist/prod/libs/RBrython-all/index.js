var __webpack_modules__={116:(e,t,n)=>{n.d(t,{A:()=>r});const r='from RBM import __JS_OP__, __JS_WRITE__, boolean\n\nclass bool(boolean): # type: ignore (bool is Final)\n    def __new__(cls, arg: object, /) -> boolean:# -> Any | bool:\n        # can\'t use Python "if", "or" as we\'d have an infinite loop.\n        __JS_WRITE__("if(arg === true || arg === false) { return arg; }")\n        return type(arg).__bool__(arg) # type: ignore\n    def __eq__(self, o: object, /) -> boolean:\n        return __JS_OP__(self, "==", o)'},137:(e,t,n)=>{function r(){return function(e){--e.indent_level,e.w_line()}}n.d(t,{A:()=>r})},238:(e,t,n)=>{function r(e,...t){if(2===t.length){const n=t[0].value;return void e.w`${n}${t[1]}`}const n=t[1].value;e.w`${t[0]} ${n} ${t[2]}`}n.d(t,{A:()=>r})},285:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(5201),o=n(7180),_=n(4215),s=n(8526);class i extends s.vl{emit(e){return`(function($RB){"use strict";${$B.js_from_root({ast:e.ast,symtable:e.symtable,filename:e.filename,src:e.pycode,imported:void 0}).js}})`}registerMacros(e){throw new Error("Not implemented")}registerMacro(e,t){throw new Error("Not implemented")}}var l=n(4272);class a{static getBrythonEngine(){return function(){const e=new i,t=new o.A,n=new _.A(r.A,e,t);return n.registerModule("JS",globalThis),n}()}static getRBrythonEngine(){return(0,l.A)()}}},298:(e,t,n)=>{n.d(t,{A:()=>r});const r={NL:n(4868).A,BB:n(1406).A,BE:n(137).A,bool:n(6894).A,getTmp:n(3629).A,saveTmp:n(4786).A}},541:(e,t,n)=>{n.d(t,{A:()=>r});const r='from types import NotImplementedType\nfrom RBM import __JS_AS_NUMBER__, __JS_OP__, bigint\n\nclass int(bigint):\n\n    def __new__(cls, o: object, base: int, /) -> int:\n        if type(o) == str:\n            return __JS_RUN__( # type: ignore\n                \'\'\'\n                    (x, base) => {\n                        if( base !== 16)\n                            return BigInt(x);\n                        \n                        let result = 0n;\n                        for(let i = 2; i < x.length; ++i)\n                            result = result << 4n + BigInt( parseInt(this.slice(i, i+8), 16) );\n                        return result;\n                    }\n                \'\'\', o, base) # type: ignore\n        return type(o).__int__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o)\n\n\n    def __add__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "+", o)\n            case _      : return NotImplemented\n    \n    def __radd__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(o, "+", self)\n            case _      : return NotImplemented\n    \n\n    def __sub__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "-", o)\n            case _      : return NotImplemented\n    \n    def __rsub__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(o, "-", self)\n            case _      : return NotImplemented\n    \n    def __mul__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "*", o)\n            case _      : return NotImplemented\n    \n    def __rmul__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(o, "*", self)\n            case _      : return NotImplemented\n\n    def __pow__(self, o: object, mod: int|None = None, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "**", o)\n            case _      : return NotImplemented\n    \n    def __rpow__(self, o: object, mod: int|None = None, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(o, "**", self)\n            case _      : return NotImplemented\n\n    def __truediv__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(self),\n                                           "/",\n                                           __JS_AS_NUMBER__(o))\n            case _      : return NotImplemented\n    \n    def __rtruediv__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o),\n                                           "*",\n                                           __JS_AS_NUMBER__(self) )\n            case _      : return NotImplemented\n\n    def __mod__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "%", o)\n            case _      : return NotImplemented\n    \n    def __rmod__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "%", o)\n            case _      : return NotImplemented\n    \n    def __or__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "|", o)\n            case _      : return NotImplemented\n    \n    def __ror__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "|", o)\n            case _      : return NotImplemented\n\n    def __and__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "&", o)\n            case _      : return NotImplemented\n    \n    def __rand__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "&", o)\n            case _      : return NotImplemented\n        \n    def __xor__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "^", o)\n            case _      : return NotImplemented\n    \n    def __rxor__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "^", o)\n            case _      : return NotImplemented\n\n    def __lshift__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  ():\n                __JS_LOG__("INT")\n                return __JS_OP__(self, "<<", o)\n            case _      :\n                __JS_LOG__("OTHER", o)\n                return NotImplemented\n    \n    def __rlshift__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, "<<", o)\n            case _      : return NotImplemented\n\n    def __rshift__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, ">>", o)\n            case _      : return NotImplemented\n    \n    def __rrshift__(self, o: object, /) -> NotImplementedType|int:\n        match o:\n            case int  (): return __JS_OP__(self, ">>", o)\n            case _      : return NotImplemented\n    \n    ### unary operators ###\n    def __invert__(self, /) -> int:\n        return __JS_OP__("~", self)\n\n    def __neg__(self, /) -> int:\n        return __JS_OP__("-", self)\n    \n    def __abs__(self, /) -> int:\n         return __JS_RUN__("x => x < 0n ? -x : x", self) # type: ignore'},579:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1336);function o(e,t){t.w_str("`");for(let n=0;n<e.values.length;++n){const o=e.values[n];if("Constant"===(0,r.Vq)(o)){t.w_str(o.value);continue}const _=o;void 0!==_.format_spec?t.w`\${format(${o.value}, ${_.format_spec.values[0]})}`:t.w`\${${o.value}}`}t.w_str("`")}},804:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1336);function o(e,t){const n=e.operand,o=(0,r.wB)(e.op);if("Not"===o)return void t.w`! ${t.hm.bool(n)}`;const s=_[o];if(void 0===s)throw new Error(`UnaryOp ${o} not impl`);t.w`$RB.uop("${s}", ${n})`}const _={Invert:"invert",USub:"neg",UAdd:"pos"}},881:(e,t,n)=>{function r(){}n.d(t,{A:()=>r})},940:(e,t,n)=>{function r(e,t){t.w`$RB.attr(${e.value}, "${e.attr}")`}n.d(t,{A:()=>r})},1044:(e,t,n)=>{function r(e,t){const n=e.name,r=e.body;if(t.w`var ${n} = (() =>{${t.hm.BB()}`,t.w`function ${n}(...args) {${t.hm.BB()}`,t.w`return type.prototype.__call__.call(${n}, ...args)`,t.w`${t.hm.BE()}}${t.hm.NL()}`,t.w`${n}.prototype.__new__ = function __new__(...args) {${t.hm.BB()}`,t.w`return Object.create(${n}.prototype)`,t.w`${t.hm.BE()}}${t.hm.BE()}`,(1!==e.bases.length||!["number","bigint","boolean","string"].includes(e.bases[0].id))&&e.bases.length>=1){t.w`${n}.prototype = Object.create(${e.bases[0]}.prototype);\n`;for(let r=1;r<e.bases.length;++r)t.w`Object.assign(${n}.prototype, ${e.bases[r]}.prototype);`;t.w`${n}.prototype.constructor = ${n};\n`}t.w_body(r),t.w`${t.hm.BB()}return ${n};${t.hm.BE()}})();`}n.d(t,{A:()=>r})},1062:(e,t,n)=>{function r(e,t){t.w_node(e.value)}n.d(t,{A:()=>r})},1094:(e,t,n)=>{function r(e,t){t.w`for(var ${e.target} of ${e.iter}){${e.body}}`}n.d(t,{A:()=>r})},1236:(e,t,n)=>{n.d(t,{A:()=>r});const r='from RBM import __JS_OP__, __JS_WRITE__\n\nclass type:\n    def __new__(cls, o: object, /) -> type:\n        return __JS_WRITE__("$RB.getClass(o)") # pyright: ignore[reportReturnType]\n\n    def __call__(self, *args):\n        __JS_WRITE__("""\n                     let instance;\n                     const factory = this.prototype.__new__;\n                     if( factory !== undefined )\n                        instance = factory.call(self, ...args)\n                     else\n                        instance = new self(...args) // JS\n                     \n                     const init = this.prototype.__init__;\n                     if( init !== undefined)\n                        init.call(self, ...args)\n                     """)\n        return instance # type: ignore\n\n    def __eq__(self, b: object, /):\n        return __JS_OP__(self, "===", b)'},1264:(e,t,n)=>{function r(e,t,...n){var r;e.w`(${r=t.value,r=r.replaceAll("\\n\\","\n")})(`;for(let t=0;t<n.length;++t)e.w`${n[t]},`;e.w`)`}n.d(t,{A:()=>r})},1328:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8119);function o(e,t){return(0,r.Qs)(t.result_type,r.dA)?e=>e.w`(${t})`:e(t)}},1336:(e,t,n)=>{function r(e){return null!=e&&"$name"in e.constructor}function o(e){return e.constructor.$name}function _(e){return e.constructor.$name}n.d(t,{VJ:()=>r,Vq:()=>o,wB:()=>_})},1406:(e,t,n)=>{function r(){return function(e){++e.indent_level,e.w_line()}}n.d(t,{A:()=>r})},1417:(e,t,n)=>{function r(e,t){return`  return {${t.join(", ")}};\n`}n.d(t,{A:()=>r})},1652:(e,t,n)=>{n.d(t,{e:()=>_,t:()=>s});var r=n(1336),o=n(8918);const _=4096;class s{macros={};hm;mode;sync;handlers;jscode="";#e;constructor({opti:{handlers:e,hmacros:t},mode:n,sync:r},o,_){this.handlers=e,this.#e=[_],this.mode=n,this.macros=o,this.hm=t,this.sync=r}getScope(e){return this.symtab.symbols.$strings[e]}getName(e=0){return this.#e[this.#e.length-1+e].name}isTopLevel(){return 1===this.#e.length}isMethod(){const e=this.#e.length-1;return this.#e[e].type===o.H3&&this.#e[e-1].type===o.tp}get symtab(){return this.#e[this.#e.length-1]}w(e,...t){for(let n=0;n<t.length;++n){this.w_str(e[n]);const o=t[n];"function"==typeof o?o(this):(0,r.VJ)(o)?this.w_node(o):Array.isArray(o)?this.w_body(o):this.jscode+=`${o}`}this.w_str(e[e.length-1])}w_str(e){return this.jscode+=e}indent_level=0;w_line(){const e="\n"+"  ".repeat(this.indent_level);this.jscode.endsWith(e)||(this.jscode+=e)}w_body(e){if(0!==e.length){++this.indent_level;for(let t=0;t<e.length;++t)this.w_line(),this.w_node(e[t]);--this.indent_level,this.w_line()}}w_node(e){const t=(0,r.Vq)(e),n=this.handlers[t];if(void 0===n)throw console.warn(e),new Error(`Node type ${(0,r.Vq)(e)} is unknown`);const o="FunctionDef"===t||"ClassDef"===t;o&&this.enter(e.name),e.js_start=this.jscode.length,n(e,this),e.js_end=this.jscode.length,o&&this.leave()}enter(e){const t=this.symtab.children.find((t=>t.name===e));return this.#e.push(t),t}leave(){this.#e.pop()}}},1701:(e,t,n)=>{function r(e,t){t.w`( ${t.hm.bool(e.test)} ? ${e.body} : ${e.orelse} )`}n.d(t,{A:()=>r})},1711:(e,t,n)=>{n.d(t,{A:()=>r});const r='from types import NotImplementedType\nfrom RBM import __JS_OP__, string\n\nclass str(string):\n    def __new__(cls, o: object, /) -> str:\n        return __JS_AS_STRING__(o) # type: ignore\n        #return type(o).__str__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o)\n\n    def __mul__(self, o: object, /) -> NotImplementedType|str:\n        match o:\n            case int  (): return __JS_WRITE__("self.repeat(Number(b))") # type: ignore\n            case _      : return NotImplemented\n    \n    def __rmul__(self, o: object, /) -> NotImplementedType|str:\n        match o:\n            case int  (): return __JS_WRITE__("self.repeat(Number(b))") # type: ignore\n            case _      : return NotImplemented'},2011:(e,t,n)=>{function r(e,t){t.w`return ${e.value}`}n.d(t,{A:()=>r})},2312:(e,t,n)=>{n.d(t,{A:()=>r});class r{}},2431:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1336);function o(e,t){const n=(0,r.wB)(e.op);if("And"===n)return t.w`$RB.withTmp(bool($RB.saveTmp(${e.values[0]})) ? ${e.values[1]} : $RB.tmp() )`;if("Or"===n)return t.w`$RB.withTmp(bool($RB.saveTmp(${e.values[0]})) ? $RB.tmp() : ${e.values[1]} )`;throw new Error(`Unknown boolean operator ${n}`)}},2458:(e,t,n)=>{function r(e,t){return t.w`(${e.target} = ${e.value})`}n.d(t,{A:()=>r})},2760:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(3778),o=n(298),_=n(8320),s=n(7422);const i=function(e,t){const n={...e};for(let r=0;r<t.length;++r){const o=t[r].name,_=e[o];n[o]=(e,n)=>{t[r](e,n,_)}}return n}(r.A,_.A),l=function(e,t){const n={...e};for(let r=0;r<t.length;++r){const o=t[r].name,_=e[o];n[o]=(...e)=>t[r](_,...e)}return n}(o.A,s.A),a={disabled:{handlers:r.A,hmacros:o.A,require_typechecker:!1},safe:{handlers:i,hmacros:l,require_typechecker:!0},unsafe:{handlers:i,hmacros:l,require_typechecker:!0}}},2770:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8119);function o(e){"boolean"==typeof e.node.value&&(e.node.result_type={type:r.dA})}},2977:(e,t,n)=>{function r(e,...t){e.w_str("console.log(");for(let n=0;n<t.length;++n)e.w`${t[n]},`;e.w_str(");")}n.d(t,{A:()=>r})},3125:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1336);function o(e,t){for(let n=0;n<e.ops.length;++n){const o=0===n,s=n===e.ops.length-1,i=(0,r.wB)(e.ops[n]);let l=e.left;o||(l=t.hm.getTmp());let a=e.comparators[n];if(s||(a=t.hm.saveTmp(a)),o||t.w` && `,"Is"===i){t.w`${l} === ${a}`;continue}if("IsNot"===i){t.w`${l} !== ${a}`;continue}const c=_[i];if(void 0===c)throw console.warn(i),new Error(`CmpOp ${i} not impl`);t.w`$RB.op(${l}, "${c}", ${a})`}}const _={Eq:"eq",NotEq:"ne",Gt:"gt",GtE:"ge",Lt:"lt",LtE:"le"}},3180:(e,t,n)=>{n.d(t,{A:()=>r});const r='from types import NotImplementedType\nfrom RBM import __JS_OP__, __JS_AS_NUMBER__, __JS_WRITE__, number\n\nclass float(number):\n    def __new__(cls, o: object, /) -> float:\n        if type(o) is str:\n            if o == "infinity" or o == "inf":\n                return __JS_WRITE__("Number.POSITIVE_INFINITY") # pyright: ignore[reportReturnType]\n            if o == "-infinity" or o == "-inf":\n                return __JS_WRITE__("Number.NEGATIVE_INFINITY") # pyright: ignore[reportReturnType]\n            return __JS_AS_NUMBER__(o)\n        return type(o).__float__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o)    \n\n    def __add__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(self, "+", o)\n            case int  (): return __JS_OP__(self, "+", __JS_AS_NUMBER__(o))\n            case _      : return NotImplemented\n\n    def __radd__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(o                  , "+", self)\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), "+", self)\n            case _      : return NotImplemented\n\n    def __sub__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(self, "-", o)\n            case int  (): return __JS_OP__(self, "-", __JS_AS_NUMBER__(o))\n            case _      : return NotImplemented\n\n    def __rsub__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(o                  , "-", self)\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), "-", self)\n            case _      : return NotImplemented\n\n    def __mul__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(self, "*", o)\n            case int  (): return __JS_OP__(self, "*", __JS_AS_NUMBER__(o))\n            case _      : return NotImplemented\n\n    def __rmul__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(o                  , "*", self)\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), "*", self)\n            case _      : return NotImplemented\n\n    def __truediv__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(self, "/", o)\n            case int  (): return __JS_OP__(self, "/", __JS_AS_NUMBER__(o))\n            case _      : return NotImplemented\n\n    def __rtruediv__(self, o: object, /) -> NotImplementedType|float:\n        match o:\n            case float(): return __JS_OP__(o                  , "/", self)\n            case int  (): return __JS_OP__(__JS_AS_NUMBER__(o), "/", self)\n            case _      : return NotImplemented\n\n    ### unary operators ###\n\n    def __neg__(self, /) -> float:\n        return __JS_OP__("-", self)\n    \n    def __int__(self, /) -> int:\n        return __JS_RUN__(\'(x) => Math.trunc(x)\', self) # type: ignore\n    \n    def __abs__(self, /) -> int:\n         return __JS_RUN__(\'(x) => Math.abs(x)\', self) # type: ignore'},3226:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8526);function o(e,t){"__debug__"!==e.id?t.w_str(e.id):t.w`${t.mode===r.g.DEBUG}`}},3629:(e,t,n)=>{function r(){return function(e){e.w`$RB.getTmp()`}}n.d(t,{A:()=>r})},3705:(e,t,n)=>{n.d(t,{A:()=>r});const r="def format(o: object, f: str):\n    return type(o).__format__(o, f)"},3770:(e,t,n)=>{n.d(t,{A:()=>o,m:()=>_});var r=n(1336);function o(e,t){const n=e.left,o=e.right,s=(0,r.wB)(e.op),i=_[s];if(void 0===i)throw new Error(`BinOp ${s} not impl`);t.w`$RB.op(${n}, "${i}", ${o})`}const _={Add:"add",Sub:"sub",Mult:"mul",Div:"truediv",FloorDiv:"floordiv",Pow:"pow",Mod:"mod",BitOr:"or",BitAnd:"and",BitXor:"xor",LShift:"lshift",RShift:"rshift"}},3778:(e,t,n)=>{n.d(t,{A:()=>r});const r={}},3798:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(3770),o=n(1336);function _(e,t){const n=e.target,_=(0,o.wB)(e.op),s=e.value,i=r.m[_];if(void 0===i)throw new Error(`BinOp ${_} not impl`);t.w`${n} = $RB.op(${n}, "i${i}", ${s})`}},3838:(e,t,n)=>{function r(e,t){e.w_str(t.value.replaceAll("\\n\\\n","\n"))}n.d(t,{A:()=>r})},3896:(e,t,n)=>{function r(e,t){const n=t.isMethod(),r=e.name,o=e.body;n&&t.w`${t.getName(-1)}.prototype.${r} = `;for(let n=0;n<e.decorator_list.length;++n)t.w`${e.decorator_list[n]}(`;t.w`async function ${r} ${e.args}`,t.w_body(o),t.w`}`;for(let n=0;n<e.decorator_list.length;++n)t.w`)`}n.d(t,{A:()=>r})},4117:(e,t,n)=>{n.d(t,{A:()=>r});const r={defaults:{exports:n(8526).l1.RETURN},transform:(e,t)=>`(${t?"":"async "}function($RB){"use strict";${e}})`}},4196:(e,t,n)=>{function r(e,t){return`  $B.imported["${e}"] = $B.jsobj2pyobj({${t.join(",")}});\n`}n.d(t,{A:()=>r})},4215:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(9008),o=n(4117);class _ extends r.A{parser;emitter;runner;constructor(e,t,n){super(),this.parser=e,this.emitter=t,this.runner=n}async run(e,t){return await this.runner.run(this.emit(this.parse(e),{...t,target:o.A}))}runSync(e,t){return this.runner.runSync(this.emit(this.parse(e),{...t,sync:!0,target:o.A}))}async registerModule(e,t){"string"==typeof t&&(t=await this.run(t)),this.runner.registerModule(e,t)}registerModuleSync(e,t){"string"==typeof t&&(t=this.runSync(t)),this.runner.registerModule(e,t)}getModule(e){return this.runner.getModule(e)}registerBuiltins(e){"string"==typeof e&&(e=this.runSync(e)),this.runner.registerBuiltins(e)}registerBuiltin(e,t){this.runner.registerBuiltin(e,t)}registerMacros(e){this.emitter.registerMacros(e)}registerMacro(e,t){this.emitter.registerMacro(e,t)}parse(e){return this.parser(e,"_")}emit(e,t){return this.emitter.emit(e,t)}loadAsFunction(e){return this.runner.loadAsFunction(e)}runFunction(e){return this.runner.runFunction(e)}loadAsSyncFunction(e){return this.runner.loadAsSyncFunction(e)}runSyncFunction(e){return this.runner.runSyncFunction(e)}}},4272:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(8958),o=n(4215),_=n(5201),s=n(8526);const i={type:n(1236).A,int:n(541).A,bool:n(116).A,float:n(3180).A,str:n(1711).A,format:n(3705).A};function l(){const e=new s.Ay,t=new r.A,l=new o.A(_.A,e,t);l.registerMacros({__JS_OP__:n(238).A,__JS_AWAIT__:n(7745).A,__JS_RUN__:n(1264).A,__JS_WRITE__:n(3838).A,__JS_LOG__:n(2977).A,__JS_AS_STRING__:n(7795).A,__JS_AS_NUMBER__:n(8771).A}),l.registerModule("JS",globalThis);for(let e of Object.values(i))l.registerBuiltins(e);return l}},4786:(e,t,n)=>{function r(e){return function(t){t.w`$RB.saveTmp(${e})`}}n.d(t,{A:()=>r})},4868:(e,t,n)=>{function r(){return function(e){e.w_line()}}n.d(t,{A:()=>r})},4879:(e,t,n)=>{function r(e,t){t.w`${e.value}[${e.slice}]`}n.d(t,{A:()=>r})},4947:(e,t,n)=>{n.d(t,{A:()=>r});const r={FunctionDef:n(6057).A,Constant:n(2770).A,Compare:n(9704).A}},5201:(e,t,n)=>{function r(e,t){const n=new $B.Parser(e,t,"file"),r=$B._PyPegen.run_parser(n),o=$B.future_features(r,t);return{filename:t,pycode:e,ast:r,symtable:$B._PySymtable_Build(r,t,o)}}n.d(t,{A:()=>r})},5391:(e,t,n)=>{n.d(t,{A:()=>r});const r={defaults:{},transform:e=>e}},5543:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8526);function o(e,t){t.mode!==r.g.PROD&&t.w`$RB.assert( ${t.hm.bool(e.test)}, ${e.msg??""})`}},5826:(e,t,n)=>{function r(e,t){const n=e.module;if("RBM"===n)return;if("types"===n||"typing"===n)return;if("functools"===n)return void console.warn("Import not implemented yet");t.w`const {`;for(let n=0;n<e.names.length;++n){const r=e.names[n];let o="";void 0!==r.asname&&(o=`: ${r.asname}`),t.w`${r.name}${o},`}const r=t.isTopLevel()&&!t.sync?"await $RB.getModule":"$RB.getModuleSync";t.w`} = ${r}("${n}")`}n.d(t,{A:()=>r})},5976:(e,t,n)=>{var r=n(3778),o=n(1044),_=n(6804),s=n(7464),i=n(6501),l=n(9078),a=n(881),c=n(4879),u=n(5543),f=n(6042),d=n(2011),p=n(6845),m=n(940),h=n(3798),w=n(3770),y=n(6706),b=n(3125),A=n(804),g=n(6983),$=n(1062),S=n(3226),v=n(579),B=n(6730),N=n(8736),T=n(1094),R=n(8420),O=n(9884),I=n(8546),E=n(9271),J=n(6665),j=n(5826),P=n(9234),M=n(2431);r.A.ClassDef=o.A,r.A.FunctionDef=_.A,r.A.AsyncFunctionDef=n(3896).A,r.A.Await=n(6263).A,r.A.IfExp=n(1701).A,r.A.NamedExpr=n(2458).A,r.A.Lambda=s.A,r.A.arguments=i.A,r.A.Global=l.A,r.A.Nonlocal=a.A,r.A.Subscript=c.A,r.A.Assert=u.A,r.A.Pass=f.A,r.A.Return=d.A,r.A.Assign=p.A,r.A.Attribute=m.A,r.A.AugAssign=h.A,r.A.BinOp=w.A,r.A.Call=y.A,r.A.Compare=b.A,r.A.UnaryOp=A.A,r.A.Constant=g.A,r.A.Expr=$.A,r.A.Name=S.A,r.A.JoinedStr=v.A,r.A.If=B.A,r.A.While=N.A,r.A.For=T.A,r.A.Try=R.A,r.A.Match=O.A,r.A.Continue=I.A,r.A.Break=E.A,r.A.Raise=J.A,r.A.ImportFrom=j.A,r.A.Import=P.A,r.A.BoolOp=M.A},6042:(e,t,n)=>{function r(e){}n.d(t,{A:()=>r})},6057:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8119);function o(e){(e.symtab.typedSymbols||={})[e.node.name]={type:r.RK}}},6263:(e,t,n)=>{function r(e,t){t.w`await ${e.value}`}n.d(t,{A:()=>r})},6501:(e,t,n)=>{function r(e,t){t.w`(`;let n=0,r=0;const _=t.isMethod();_&&(e.posonlyargs.length?++n:++r);let s=e.posonlyargs.length+e.args.length-e.defaults.length;for(let r=n;r<e.posonlyargs.length;++r)t.w`${e.posonlyargs[r].arg}`,s>=r&&t.w` = ${e.defaults[r-s]}`,t.w`,`;s-=e.posonlyargs.length;for(let n=r;n<e.args.length;++n)t.w`_${e.args[n].arg}`,s>=n&&t.w` = ${e.defaults[e.posonlyargs.length+n-s]}`,t.w`,`;const i=void 0!==e.vararg;i&&t.w`...${e.vararg.arg}`;const l=e.args.length-r||void 0!==e.kwarg||e.kwonlyargs.length;if(l&&!i&&o(e,t,r),t.w`){`,l&&i&&(t.w`${t.hm.BB()}var `,o(e,t,r),t.w`;${t.hm.BE()}`),_){let n="";n=e.posonlyargs.length>0?e.posonlyargs[0].arg:e.args[0].arg,t.w`${t.hm.BB()}const ${n} = this;${t.hm.BE()}`}}function o(e,t,n){t.w`{`;for(let r=n;r<e.args.length;++r)t.w`${e.args[r].arg} = _${e.args[r].arg}, `;for(let n=0;n<e.kwonlyargs.length;++n)t.w`${e.kwonlyargs[n].arg}`,void 0!==e.kw_defaults[n]&&t.w` = ${e.kw_defaults[n]}`,t.w`, `;void 0!==e.kwarg&&t.w`...${e.kwarg.arg}`,t.w`} = $RB.getKW()`}n.d(t,{A:()=>r})},6586:(e,t,n)=>{n.d(t,{t:()=>u});const r={bigint:"int",number:"float",string:"str",boolean:"bool"};function o(e){const t=typeof e;if("function"===t)return type;if("object"===t)return e.constructor;const n=globalThis[r[t]];if(void 0!==n)return n;throw new Error(`JS type ${t} not implemented yet`)}const _=globalThis.NotImplemented=Symbol(),s={lt:"gt",gt:"lt",le:"ge",ge:"le",ne:"ne",eq:"eq"};let i=null;const l=Symbol();var a=n(8958);let c=null;const u=globalThis.$RB={op:function(e,t,n){const r=o(e);if(void 0===r)throw console.warn(e,t),new Error("?");let i=_,l=r.prototype[`__${t}__`];if(void 0!==l&&(i=l.call(e,n)),i!==_)return i;if("i"===t[0]&&(t=t.slice(1),l=r.prototype[`__${t}__`],void 0!==l&&(i=l.call(e,n)),i!==_))return i;const a=o(n);if(void 0===a)throw console.warn(n,"r"+t),new Error("?");let c;if(c=2==t.length&&"or"!==t?s[t]:`r${t}`,l=a.prototype[`__${c}__`],void 0!==l&&(i=l.call(n,e)),i!==_)return i;if("eq"===t)return e===n;if("ne"===t)return e!==n;throw new Error(`Operation not implemented ${r.name} ${t} ${a.name}`)},uop:function(e,t){const n=o(t);if(void 0===n)throw console.warn(t,e),new Error("?");return n.prototype[`__${e}__`].call(t)},call:function(e,...t){t[t.length-1]===l&&(t=t.slice(0,-1));let n=e.__call__;if(void 0===n){if(n=e,void 0!==n.prototype?.__new__){const e=o(n).prototype.__call__;if(void 0!==e)return e.call(n,...t)}if(r=n,!1===Object.getOwnPropertyDescriptors(r)?.prototype?.writable)return new n(...t)}var r;return n(...t)},mcall:function(e,t,...n){return n[n.length-1]===l&&(n=n.slice(0,-1)),void 0===e[t]?(void 0===e.prototype[t]&&console.warn(e,e.name,t),e.prototype[t].call(...n)):e[t](...n)},assert:function(e,t=""){if(!e)throw new Error(`Assertion failed: ${t}`)},attr:function(e,t){return t in e?e[t]:e.constructor[t]},setattr:function(e,t,n){return e[t]=n},getKW:function(){if(null===i)return{};const e=i;return i=null,e},setKW:function(e){return i=e,l},tmp:function(){return c},getTmp:function(){const e=c;return c=null,e},saveTmp:function(e){return c=e},withTmp:function(e){return c=null,e},getModule:async function(e){const t=a.a[e];if(void 0!==t)return t;if(e in globalThis)return a.a[e]=globalThis[e];if("__BRYTHON__"in globalThis&&e in __BRYTHON__.imported)return a.a[e]=__BRYTHON__.pyobj2jsob(__BRYTHON__.imported[e]);throw new Error(`module ${e} not found`)},getModuleSync:function(e){const t=a.a[e];if(void 0!==t)return t;if(e in globalThis)return a.a[e]=globalThis[e];if("__BRYTHON__"in globalThis&&e in __BRYTHON__.imported)return a.a[e]=__BRYTHON__.pyobj2jsob(__BRYTHON__.imported[e]);throw new Error(`module ${e} not found`)},getClass:o};globalThis.abs=function(e){return o(e).prototype.__abs__.call(e)},globalThis.range=function*(...e){let t=0n,n=e[0],r=1n;e.length>=2&&(t=e[0],n=e[1],3===e.length&&(r=e[2]));for(let e=t;e<n;e+=r)yield e},globalThis.Exception=function(e){throw new Error(e)};const f=Symbol();globalThis.__JS_SET_IVALUE__=(e,t)=>e[f]=t,globalThis.__JS_GET_IVALUE__=e=>e[f]},6665:(e,t,n)=>{function r(e,t){t.w`throw ${e.exc};`}n.d(t,{A:()=>r})},6706:(e,t,n)=>{n.d(t,{A:()=>o,D:()=>_});var r=n(1336);function o(e,t){const n=e.func,o=n.id;if(o in t.macros)t.macros[o](t,...e.args);else{if("Attribute"===(0,r.Vq)(n)){const e=n;t.w`$RB.mcall(${e.value}, "${e.attr}", `}else t.w`$RB.call(${n}, `;_(e,t),t.w_str(")")}}function _(e,t){const n=e.args,r=e.keywords;for(let e=0;e<n.length;++e)t.w`${n[e]}, `;if(r.length){t.w`$RB.setKW({`;for(let e=0;e<r.length;++e)t.w`${r[e].arg}: ${r[e].value},`;t.w`})`}}},6730:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1336);function o(e,t){t.w`if( ${t.hm.bool(e.test)} ){${e.body}}`;for(let n=0;n<e.orelse.length;++n){const o=e.orelse[n];"If"===(0,r.Vq)(o)?t.w`else ${o}`:t.w`else{${o}}`}}},6804:(e,t,n)=>{function r(e,t){const n=t.isMethod(),r=e.name,o=e.body;n&&t.w`${t.getName(-1)}.prototype.${r} = `;for(let n=0;n<e.decorator_list.length;++n)t.w`${e.decorator_list[n]}(`;t.w`function ${r} ${e.args}`,t.w_body(o),t.w`}`;for(let n=0;n<e.decorator_list.length;++n)t.w`)`}n.d(t,{A:()=>r})},6845:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(1336),o=n(1652);function _(e,t){if("Attribute"!==(0,r.Vq)(e.targets[0])){for(let n=1;n<e.targets.length;++n)(t.getScope(e.targets[n].id)&o.e||t.isTopLevel())&&t.w`var ${e.targets[n]};`;(t.getScope(e.targets[0].id)&o.e||t.isTopLevel())&&t.w`var `;for(let n=0;n<e.targets.length;++n)t.w`${e.targets[n]} = `;return t.w_node(e.value)}{const n=e.targets[0];t.w`$RB.setattr(${n.value}, "${n.attr}", ${e.value})`}}},6894:(e,t,n)=>{function r(e){return function(t){t.w`bool(${e})`}}n.d(t,{A:()=>r})},6983:(e,t,n)=>{function r(e,t){const n=typeof e.value;if("object"===n){const n=e.value.__class__.__qualname__,r=e.value.value;if("float"===n)return t.w`${r}`;if("int"===n)return t.w`${r}n`;if("NoneType"===n)return t.w`null`}if("string"===n)return t.w`"${e.value}"`;if("number"===n)return t.w`${e.value}n`;if("boolean"===n)return t.w`${e.value}`;throw console.warn(e,n),new Error(`Unknown Cste ${n}`)}n.d(t,{A:()=>r})},7180:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RBrythonGlobalRunner});var _interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2312);class RBrythonGlobalRunner extends _interface__WEBPACK_IMPORTED_MODULE_0__.A{run(e){return this.runFunction(this.loadAsFunction(e))}runSync(e){return this.runSyncFunction(this.loadAsSyncFunction(e))}loadAsFunction(jscode){return $B.imported._={},eval(jscode)}runFunction(e){return e()}loadAsSyncFunction(jscode){return $B.imported._={},eval(jscode)}runSyncFunction(e){return e()}registerBuiltins(e){for(let t in e)this.registerBuiltin(t,e[t])}registerBuiltin(e,t){$B.builtins[e]=$B.jsobj2pyobj(t)}registerModule(e,t){$B.imported[e]=$B.jsobj2pyobj(t)}getModule(e){return $B.imported[e]}}},7285:(e,t,n)=>{function r(e,t){return`  globalThis.${e} = {${t.join(", ")}};\n`}n.d(t,{A:()=>r})},7422:(e,t,n)=>{n.d(t,{A:()=>r});const r=[n(1328).A]},7464:(e,t,n)=>{function r(e,t){t.w`function ${e.args} return ${e.body}}`}n.d(t,{A:()=>r})},7745:(e,t,n)=>{function r(e,t){e.w`await ${t}`}n.d(t,{A:()=>r})},7795:(e,t,n)=>{function r(e,t){e.w`\`\${${t}}\``}n.d(t,{A:()=>r})},8051:(e,t,n)=>{n.d(t,{G:()=>_});var r=n(1336),o=n(4947);function _(e){const t=new Array;for(let n=0;n<e.ast.body.length;++n)t.push({symtab:e.symtable,node:e.ast.body[n]});const n=new Array;let _,i;for(;_=t.pop();){n.push(_);for(let e of s(_.node))t.push({node:e,symtab:_.symtab});if(_.node.body){let e=_.symtab;const n=(0,r.Vq)(_.node);"FunctionDef"!==n&&"ClassDef"!==n||(e=e.children.find((e=>e.name===_.node.name)));for(let n=0;n<_.node.body.length;++n)t.push({node:_.node.body[n],symtab:e})}}for(;i=n.pop();){const e=o.A[(0,r.Vq)(i.node)];void 0!==e&&e(i)}}function s(e){return[...Object.values(e)].filter((e=>"object"==typeof e&&void 0!==e.constructor.$name))}},8119:(e,t,n)=>{n.d(t,{Qs:()=>_,RK:()=>r,dA:()=>o});const r={},o={};function _(e,t){return void 0!==e&&e.type===t}},8320:(e,t,n)=>{n.d(t,{A:()=>r});const r=[n(9050).A]},8420:(e,t,n)=>{function r(e,t){t.w`try{${e.body}}catch{${e.handlers[0].body}}`}n.d(t,{A:()=>r})},8526:(e,t,n)=>{n.d(t,{Ay:()=>m,g:()=>r,l1:()=>o,vl:()=>p}),n(6586),n(5976);var r,o,_=n(1652),s=n(7285),i=n(1417),l=n(9832),a=n(4196),c=n(5391),u=n(8051),f=n(2760);!function(e){e[e.DEBUG=0]="DEBUG",e[e.TEST=1]="TEST",e[e.PROD=2]="PROD"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.GLOBAL=1]="GLOBAL",e[e.MODULE=2]="MODULE",e[e.RETURN=4]="RETURN",e[e.BRYTHON=8]="BRYTHON"}(o||(o={}));const d={mode:0,target:c.A,opti:f.A.safe,exports:0,sync:!1};class p{}class m extends p{macros={};registerMacros(e){for(let t in e)this.macros[t]=e[t]}registerMacro(e,t){this.macros[e]=t}emit(e,t={}){const n="_",r=Object.assign({},d,t.target?.defaults,t);r.opti.require_typechecker&&(0,u.G)(e);const o=new _.t(r,this.macros,e.symtable),c=this.extractExportedSymbols(e);o.w_body(e.ast.body);let f=o.jscode;return 1&r.exports&&(f+=(0,s.A)(n,c)),2&r.exports&&(f+=(0,l.A)(n,c)),4&r.exports&&(f+=(0,i.A)(n,c)),8&r.exports&&(f+=(0,a.A)(n,c)),r.target.transform(f,r.sync)}extractExportedSymbols(e){const t=e.symtable.symbols.$strings;return Object.keys(t).filter((e=>4098===t[e]))}}},8546:(e,t,n)=>{function r(e,t){t.w_str("continue;")}n.d(t,{A:()=>r})},8736:(e,t,n)=>{function r(e,t){t.w`while( ${t.hm.bool(e.test)} ){${e.body}}`}n.d(t,{A:()=>r})},8771:(e,t,n)=>{function r(e,t){e.w`Number(${t})`}n.d(t,{A:()=>r})},8918:(e,t,n)=>{n.d(t,{H3:()=>r,tp:()=>o});const r=0,o=1},8958:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RBrythonGlobalRunner,a:()=>modules});var _RBrython_rbry_runlib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6586),_interface__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2312);const modules={};class RBrythonGlobalRunner extends _interface__WEBPACK_IMPORTED_MODULE_1__.A{#t=modules;#n={};async run(e){return await this.runFunction(this.loadAsFunction(e))}runSync(e){return this.runSyncFunction(this.loadAsSyncFunction(e))}loadAsFunction(jscode){return eval(jscode)}async runFunction(e){return await e(_RBrython_rbry_runlib__WEBPACK_IMPORTED_MODULE_0__.t)}loadAsSyncFunction(jscode){return eval(jscode)}runSyncFunction(e){return e(_RBrython_rbry_runlib__WEBPACK_IMPORTED_MODULE_0__.t)}registerModule(e,t){this.#t[e]=t}getModule(e){return this.#t[e]}registerBuiltins(e){for(let t in e)this.registerBuiltin(t,e[t])}registerBuiltin(e,t){this.#n[e]=t,globalThis[e]=t}}},9008:(e,t,n)=>{n.d(t,{A:()=>r});class r{}},9050:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1336),o=n(8119),_=n(6706);function s(e,t,n){if("Name"===(0,r.Vq)(e.func)&&void 0!==t.symtab.typedSymbols){const n=e.func.id,r=t.symtab.typedSymbols[n];if((0,o.Qs)(r,o.RK))return t.w`${n}(`,(0,_.D)(e,t),void t.w`)`}n(e,t)}},9078:(e,t,n)=>{function r(){}n.d(t,{A:()=>r})},9234:(e,t,n)=>{function r(e,t){for(let n=0;n<e.names.length;++n){const r=e.names[n],o=r.name;if("RBM"===o)continue;let _=r.asname;void 0===_&&(_=o);const s=t.isTopLevel()&&!t.sync?"await $RB.getModule":"$RB.getModuleSync";t.w`const ${_} = ${s}("${o}")`}}n.d(t,{A:()=>r})},9271:(e,t,n)=>{function r(e,t){t.w_str("break;")}n.d(t,{A:()=>r})},9704:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(8119);function o(e){e.node.result_type={type:r.dA}}},9832:(e,t,n)=>{function r(e,t){return`  export {${t.join(", ")}};\n`}n.d(t,{A:()=>r})},9884:(e,t,n)=>{function r(e,t){t.w`{${t.hm.BB()}`,t.w`const tname = $RB.getClass(${e.subject}).name;${t.hm.NL()}`;for(let n=0;n<e.cases.length-1;++n){0!==n&&t.w`else `;const r=e.cases[n];t.w`if( tname === "${r.pattern.cls.id}"){${r.body}}`}t.w`else {${e.cases[e.cases.length-1].body}}`,t.w`${t.hm.BE()}}`}n.d(t,{A:()=>r})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};__webpack_require__.d(__webpack_exports__,{l1:()=>emitter.l1,$3:()=>optimizers.A,Ht:()=>targets,Ay:()=>RBrython_all});var engines=__webpack_require__(285),emitter=__webpack_require__(8526);const brython={defaults:{exports:emitter.l1.BRYTHON,sync:!0},transform:e=>e};var targets_function=__webpack_require__(4117);const targets_module={defaults:{exports:emitter.l1.MODULE},transform:e=>e};var raw=__webpack_require__(5391);const Targets={raw:raw.A,function:targets_function.A,module:targets_module,brython},targets=Targets;var optimizers=__webpack_require__(2760);const RBrython_all=engines.A;var __webpack_exports__EXPORT=__webpack_exports__.l1,__webpack_exports__Optimizers=__webpack_exports__.$3,__webpack_exports__Targets=__webpack_exports__.Ht,__webpack_exports__default=__webpack_exports__.Ay;export{__webpack_exports__EXPORT as EXPORT,__webpack_exports__Optimizers as Optimizers,__webpack_exports__Targets as Targets,__webpack_exports__default as default};
//# sourceMappingURL=index.js.map