export const __webpack_id__=80;export const __webpack_ids__=[80];export const __webpack_modules__={116:(t,e,n)=>{n.d(e,{A:()=>r});const r='class bool:\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o) # type: ignore\n'},151:(t,e,n)=>{function r(t,e){return e in t?t[e]:t.constructor[e]}n.d(e,{A:()=>r})},504:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(7563);function o(t){const e={},n=function(...n){const o=e[(0,r.t)(n[0]).name];return void 0!==o?o.call(this,...n):t.call(this,...n)};return n.register=(t,n)=>{e[n]=t},n}},541:(t,e,n)=>{n.d(e,{A:()=>r});const r='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass int:\n\n    def __new__(cls, o: object, base: int, /) -> int:\n        if type(o) == str:\n            return __JS_RUN__( # type: ignore\n                \'\'\'\n                    (x, base) => {\n                        if( base !== 16)\n                            return BigInt(x);\n                        \n                        let result = 0n;\n                        for(let i = 2; i < x.length; ++i)\n                            result = result << 4n + BigInt( parseInt(this.slice(i, i+8), 16) );\n                        return result;\n                    }\n                \'\'\', o, base) # type: ignore\n        return type(o).__int__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o) # type: ignore\n\n    ### add ###\n\n    @singledispatchmethod\n    def __add__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__add__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "+", b) # type: ignore\n    \n    ### add ###\n\n    @singledispatchmethod\n    def __sub__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__sub__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "-", b) # type: ignore\n    \n    ### mul ###\n    @singledispatchmethod\n    def __mul__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__mul__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "*", b) # type: ignore\n    \n    ### pow ###\n    @singledispatchmethod\n    def __pow__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__pow__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "**", b) # type: ignore\n    \n    ### div ###\n    @singledispatchmethod\n    def __div__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__div__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__(__JS_AS_NUMBER__(self), # type: ignore\n                         "/",\n                         __JS_AS_NUMBER__(b)) # type: ignore\n    \n    ### mod ###\n    @singledispatchmethod\n    def __mod__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__mod__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "%", b) # type: ignore\n    \n    ### or ###\n    @singledispatchmethod\n    def __or__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__or__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "|", b) # type: ignore\n\n    ### and ###\n    @singledispatchmethod\n    def __and__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__and__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "&", b) # type: ignore\n    \n    \n    ### lshift ###\n    @singledispatchmethod\n    def __lshift__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__lshift__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, "<<", b) # type: ignore\n    \n    ### rshift ###\n    @singledispatchmethod\n    def __rshift__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__rshift__.register\n    def _(self, b: int, /) -> int:\n        return __JS_OP__(self, ">>", b) # type: ignore\n\n    ### unary operators ###\n    def __invert__(self, /) -> int:\n        return __JS_OP__("~", self) # type: ignore\n\n    def __neg__(self, /) -> int:\n        return __JS_OP__("-", self) # type: ignore\n    \n    def __abs__(self, /) -> int:\n         return __JS_RUN__("x => x < 0n ? -x : x", self) # type: ignore'},784:(t,e,n)=>{function r(t,e){const n=new $B.Parser(t,e,"file"),r=$B._PyPegen.run_parser(n),o=$B.future_features(r,e);return{filename:e,pycode:t,ast:r,symtable:$B._PySymtable_Build(r,e,o)}}n.d(e,{I:()=>b,s:()=>y});class o{}class s extends o{constructor(){super(),this.initialize()}run(t){this.loadAsFunction(this.emit(this.parse(t)))()}#t=!1;initialize(){$B.imported.JS=$B.jsobj2pyobj(globalThis),this.#t=!0}parse(t){return r(t,"_")}emit(t){return $B.js_from_root({ast:t.ast,symtable:t.symtable,filename:t.filename,src:t.pycode,imported:void 0}).js}loadAsFunction(t){return $B.imported._={},Function("'use strict';"+t)}}function _(t){return t.constructor.$name}function l(t){return t.constructor.$name}const i={};function a(t){const e=i[_(t)];if(void 0===e)throw console.warn(t),new Error(`Node type ${_(t)} is unknown`);return e(t)}const u={};function c(t,e=!1){const n=globalThis.inClass;globalThis.inClass=e;let r="";for(let e=0;e<t.length;++e)r+=a(t[e])+";\n";return globalThis.inClass=n,r}n(4555),globalThis.inCstrFct=!1;const f={Add:"add",Sub:"sub",Mult:"mul",Div:"div",Pow:"pow",Mod:"mod",BitOr:"or",BitAnd:"and",LShift:"lshift",RShift:"rshift"},d={Eq:"eq",NotEq:"ne"},p={Invert:"invert",USub:"neg",Not:"not"};i.ClassDef=function(t){const e=t.name,n=t.body;let r=`globalThis.${e} = (() =>{\n        function ${e}() {\n            return Object.create(${e}.prototype);\n        }\n        const classname = ${e};\n    `;if(t.bases.length>=1){r+=`${e}.prototype = Object.create(${a(t.bases[0])}.prototype);\n`;for(let n=1;n<t.bases.length;++n)r+=`Object.assign(${e}.prototype, ${a(t.bases[n])}.prototype);`;r+=`${e}.prototype.constructor = ${e};\n`}for(let t=0;t<n.length;++t)"FunctionDef"===_(n[t])&&(globalThis.inCstrFct=!0,r+=`${"_"===n[t].name?"":`${e}.prototype.${n[t].name} = `}${a(n[t])}\n            `,globalThis.inCstrFct=!1);return r+=`\n        return ${e};\n    })();\n    `,r},i.FunctionDef=function(t){const e=t.name,n=t.body;let r=globalThis.inClass?"":"function ",o="",s=0,l=0,i="";if(globalThis.inClass||globalThis.inCstrFct){let e="";t.args.posonlyargs.length?e=t.args.posonlyargs[0].arg:(e=t.args.args[0].arg,++l),i=`const ${e} = this;`,++s}for(;s<t.args.posonlyargs.length;++s)o+=`${t.args.posonlyargs[s].arg}, `;for(s=l;s<t.args.args.length;++s)o+=`_${t.args.args[s].arg}, `;if(t.args.args.length){o+="{";for(let e=l;e<t.args.args.length;++e)o+=`${t.args.args[e].arg} = _${t.args.args[e].arg}, `;o+="} = $RB.getKW()"}let u=`${r}${e}(${o}) {\n        ${i}\n        ${c(n)}\n    }`;if(0===t.decorator_list.length)return u;const f=t.decorator_list[0];if("Attribute"===_(f)){const e=t.args.posonlyargs[1].annotation.id;let n="",r="",o="classname";return globalThis.inClass&&(n+="static {\n",r="function ",o="this"),n+=`${o}.prototype.${f.value.id}.register(\n                ${r}${u},\n                "${e}"\n            );\n        `,globalThis.inClass&&(n+="}\n"),n}return globalThis.inClass?`static {\n            this.prototype.${e} = ${a(f)}(function ${u});\n        }`:`${a(f)}(${u})`},i.Assert=function(t){return`$RB.assert(${a(t.test)})`},i.Pass=function(t){return""},i.Return=function(t){return`return ${a(t.value)}`},i.Assign=function(t){let e="";const n=globalThis.inClass?"static ":"var ";for(let r=1;r<t.targets.length;++r)e+=`${n}${a(t.targets[r])};`;e+=n+a(t.targets[0])+" = ";for(let n=1;n<t.targets.length;++n)e+=a(t.targets[n])+" = ";return e+a(t.value)},i.Attribute=function(t){return`$RB.attr(${a(t.value)}, "${t.attr}")`},i.AugAssign=function(t){const e=t.target,n=l(t.op),r=t.value,o=f[n];if(void 0===o)throw new Error(`BinOp ${n} not impl`);return`${a(e)} = $RB.op(${a(e)}, "i${o}", ${a(r)})`},i.BinOp=function(t){const e=t.left,n=t.right,r=l(t.op),o=f[r];if(void 0===o)throw new Error(`BinOp ${r} not impl`);return`$RB.op(${a(e)}, "${o}", ${a(n)})`},i.Call=function(t){const e=t.func,n=t.args,r=t.keywords;if(e.id in u)return u[e.id](...t.args);let o="";for(let t=0;t<n.length;++t)o+=a(n[t])+", ";if(r.length){o+="$RB.setKW({";for(let t=0;t<r.length;++t)o+=`${r[t].arg}: ${a(r[t].value)},`;o+="})"}if("Attribute"===_(e)){const t=e;return`$RB.mcall(${a(t.value)}, "${t.attr}", ${o} )`}return`$RB.call(${a(e)}, ${o})`},i.Compare=function(t){const e=t.left,n=l(t.ops[0]),r=t.comparators[0];if("Is"===n)return`${a(e)} === ${a(r)}`;const o=d[n];if(void 0===o)throw console.warn(n),new Error(`CmpOp ${n} not impl`);return`$RB.op(${a(e)}, "${o}", ${a(r)})`},i.UnaryOp=function(t){const e=t.operand,n=l(t.op),r=p[n];if(void 0===r)throw new Error(`UnaryOp ${n} not impl`);return`$RB.uop("${r}", ${a(e)})`},i.Constant=function(t){const e=typeof t.value;if("object"===e){const e=t.value.__class__.__qualname__,n=t.value.value;if("float"===e)return`${n}`;if("int"===e)return`${n}n`;if("NoneType"===e)return"null"}if("string"===e)return`"${t.value}"`;if("number"===e)return`${t.value}n`;if("boolean"===e)return`${t.value}`;throw console.warn(t,e),new Error(`Unknown Cste ${e}`)},i.Expr=function(t){return a(t.value)},i.Name=function(t){return t.id},i.JoinedStr=function(t){console.warn(t);let e="`";for(let n=0;n<t.values.length;++n){const r=t.values[n];e+="Constant"===_(r)?r.value:`\${${a(r.value)}}`}return e+="`",e},i.If=function(t){let e=`if( ${a(t.test)} ) {\n        ${c(t.body)}\n    }`;for(let n=0;n<t.orelse.length;++n){const r=t.orelse[n];e+="If"===_(r)?"else "+a(r):`else { ${a(r)} }`}return e},i.While=function(t){return`while( ${a(t.test)} ) {\n        ${c(t.body)}\n    }`},i.For=function(t){return`for(${a(t.target)} of ${a(t.iter)}){\n        ${c(t.body)}\n    }`},i.Try=function(t){return`try {\n        ${c(t.body)}\n    } catch {\n        ${c(t.handlers[0].body)}\n    }`},i.Continue=function(t){return"continue;"},i.Break=function(t){return"break;"},i.Raise=function(t){return`throw ${a(t.exc)};`},i.ImportFrom=function(t){return console.warn("Import not implemented yet"),""},i.Import=function(t){return`const ${t.names[0].name} = $RB.getModule("${t.names[0].name}")`};const m={int:n(541).A,float:n(3180).A,bool:n(116).A,str:n(1711).A};u.__JS_WRITE__=t=>t.value,u.__JS_OP__=(...t)=>2===t.length?`${t[0].value}${a(t[1])}`:`${a(t[0])} ${t[1].value} ${a(t[2])}`,u.__JS_RUN__=(...t)=>{return`(${e=t[0].value,e.replaceAll("\\n\\","\n")})(${t.slice(1).map((t=>a(t))).join(",")})`;var e};class g extends o{constructor(){super(),this.initialize()}run(t){this.loadAsFunction(this.emit(this.parse(t)))()}#t=!1;initialize(){for(let t in m)this.run(m[t]);this.#t=!0}parse(t){return r(t,"_")}emit(t){return function(t){return c(t.ast.body)}(t)}loadAsFunction(t){return Function("'use strict';"+t)}}class h{static getBrythonRunner(){return new s}static getRBrythonRunner(){return new g}}const b=h.getBrythonRunner(),y=h.getRBrythonRunner()},1711:(t,e,n)=>{n.d(e,{A:()=>r});const r='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass str:\n    def __new__(cls, o: object, /) -> str:\n        return __JS_AS_STRING__(o) # type: ignore\n        #return type(o).__str__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o) # type: ignore\n\n    ### mul ###\n    @singledispatchmethod\n    def __mul__(self, _: object, /) -> str|NotImplementedType:\n        return NotImplemented\n    \n    @__mul__.register\n    def _(self, b: int, /) -> str:\n        return __JS_WRITE__("self.repeat(Number(b))") # type: ignore\n    \n    @singledispatchmethod\n    def __rmul__(self, _: object, /) -> str|NotImplementedType:\n        return NotImplemented\n    \n    @__rmul__.register\n    def _(self, b: int, /) -> str:\n        return __JS_WRITE__("self.repeat(Number(b))") # type: ignore'},2508:(t,e,n)=>{n.d(e,{A:()=>r});class r{steps=[];runners=[];stats=[];addStat(t,e){this.stats.push({name:t,fct:e})}addRunner(t,e){return this.runners.push({name:t,runner:e}),this}addStep(t,e){return this.steps.push({name:t,fct:e}),this}#e=null;resetStats(){this.#e={};for(let t=0;t<this.runners.length;++t){this.#e[this.runners[t].name]={steps:new Array(this.steps.length),ctx:{},errors:[],stats:{}};for(let e=0;e<this.steps.length;++e)this.#e[this.runners[t].name].steps[e]={name:this.steps[e].name,time:0};for(let e=0;e<this.stats.length;++e)this.#e[this.runners[t].name].stats[this.stats[e].name]=0}}getStats(){return this.#e}bench(t){null===this.#e&&this.resetStats();const e=this.#e;for(let n=0;n<this.runners.length;++n){const r=this.runners[n].runner,o=e[this.runners[n].name],s=o.ctx={...t};try{for(let t=0;t<this.steps.length;++t){const e=this.steps[t].fct,n=performance.now();e(r,s);const _=performance.now();o.steps[t].time+=_-n}for(let t=0;t<this.stats.length;++t)o.stats[this.stats[t].name]+=this.stats[t].fct(s)}catch(t){o.errors.push(t)}}}}},3174:(t,e,n)=>{function r(t,e){return t.toFixed(3).padStart(7)+e}function o(t,e){const n=t/e;return 1===n?"   =   ":n>1?"x"+n.toFixed(2).padStart(6):"-"+(-(100*t/e-100)).toFixed(2).padStart(5)+"%"}function s(t,e){let n="";const s=t.stats.nbTokens;n+=`Py code: ${s} tokens (${t.stats.nbFiles} file)\n`,n+="JS code: "+o(t.ctx.jscode?.length,e.ctx.jscode?.length)+"\n",n+="\nTimes:\n";const _=1e5/s/1e3;for(let s=0;s<t.steps.length;++s){const l=t.steps[s].name,i=t.steps[s].time,a=e.steps[s].time;n+=`- ${l.padEnd(7)}\t`+r(i*_,"s")+" ["+o(i,a)+"] "+r(i,"ms")+"\n"}return n}n.d(e,{A:()=>s})},3180:(t,e,n)=>{n.d(e,{A:()=>r});const r='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass float:\n    def __new__(cls, o: object, /) -> int:\n        if type(o) is str:\n            return __JS_AS_NUMBER__(o) # type: ignore\n        return type(o).__float__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_OP__(self, "==", o) # type: ignore\n    \n\n    ### add ###\n    @singledispatchmethod\n    def __add__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__add__.register\n    def _(self, b: float, /) -> float:\n        return __JS_OP__(self, "+", b) # type: ignore\n    \n    @__add__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__(  self, "+", __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __radd__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__radd__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__(  __JS_AS_NUMBER__(b), "+", self) # type: ignore\n    \n\n    ### sub ###\n    @singledispatchmethod\n    def __sub__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__sub__.register\n    def _(self, b: float, /) -> float:\n        return __JS_OP__(self, "-", b) # type: ignore\n    \n    @__sub__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__( self, "-", __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __rsub__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__rsub__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__( __JS_AS_NUMBER__(b), "-", self) # type: ignore\n    \n    ### mul ###\n    @singledispatchmethod\n    def __mul__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__mul__.register\n    def _(self, b: float, /) -> float:\n        return __JS_OP__(self, "*", b) # type: ignore\n    \n    @__mul__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__( self, "*", __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __rmul__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__rmul__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__( __JS_AS_NUMBER__(b), "*", self) # type: ignore\n\n    ### div ###\n    @singledispatchmethod\n    def __div__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__div__.register\n    def _(self, b: float, /) -> float:\n        return __JS_OP__(self, "/", b) # type: ignore\n    \n    @__div__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__( self, "/", __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __rdiv__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__rdiv__.register\n    def _(self, b: int, /) -> float:\n        return __JS_OP__( __JS_AS_NUMBER__(b), "/", self) # type: ignore\n    \n    ### unary operators ###\n\n    def __neg__(self, /) -> float:\n        return __JS_OP__("-", self) # type: ignore\n    \n    def __int__(self, /) -> int:\n        return __JS_RUN__(\'(x) => Math.trunc(x)\', self) # type: ignore\n    \n    def __abs__(self, /) -> int:\n         return __JS_RUN__(\'(x) => Math.abs(x)\', self) # type: ignore'},3828:(t,e,n)=>{n.p},4286:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(7563),o=n(9684);function s(t,...e){e[e.length-1]===o.s9&&(e=e.slice(0,-1));let n=t.__call__;if(void 0===n){if(n=t,void 0!==n.prototype?.__new__){const t=(0,r.t)(n).prototype.__call__;if(void 0!==t)return t.call(n,...e)}if(s=n,!1===Object.getOwnPropertyDescriptors(s)?.prototype?.writable)return new n(...e)}var s;return n(...e)}},4555:(t,e,n)=>{var r=n(4887),o=n(7860),s=n(4286),_=n(7825),l=n(5216),i=n(151),a=n(7563),u=n(9936),c=n(504),f=n(9684),d=n(6792);globalThis.$RB={op:r.A,uop:o.A,call:s.A,mcall:_.A,assert:l.A,attr:i.A,getKW:f.B4,setKW:f.DN,getModule:d.A},globalThis.__JS_LOG__=(...t)=>console.log(...t);const p=Symbol();globalThis.__JS_SET_IVALUE__=(t,e)=>t[p]=e,globalThis.__JS_GET_IVALUE__=t=>t[p];globalThis.__JS_RUN__=function(t,...e){throw new Error("Currently, should not be called")},globalThis.__JS_OP__=function(...t){throw new Error("Currently, should not be called")},globalThis.__JS_AS_NUMBER__=t=>"infinity"===t||"inf"===t?Number.POSITIVE_INFINITY:"-infinity"===t||"-inf"===t?Number.NEGATIVE_INFINITY:Number(t),globalThis.__JS_AS_STRING__=t=>`${t}`,globalThis.singledispatchmethod=c.A,globalThis.abs=function(t){return(0,a.t)(t).prototype.__abs__.call(t)},globalThis.type=function(t){return(0,a.t)(t)},globalThis.NotImplemented=u.M,globalThis.range=function*(t){for(let e=0;e<t;++e)yield e},globalThis.Exception=function(t){throw new Error(t)}},4887:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(7563),o=n(9936);function s(t,e,n){const s=(0,r.t)(t);if(void 0===s)throw console.warn(t,e),new Error("?");let l=s.prototype[`__${e}__`];if(void 0===l){if("ne"===e)return!s.prototype.__eq__.call(t,n);"i"===e[0]&&(l=s.prototype[`__${e.slice(1)}__`]),void 0===l&&(l=_[e])}let i=l.call(t,n);if(i===o.M){const o=(0,r.t)(n);if(void 0===o)throw console.warn(n,"r"+e),new Error("?");i=o.prototype[`__r${e}__`].call(n,t)}return i}const _={eq:function(t){return this==t}}},5216:(t,e,n)=>{function r(t){if(!t)throw new Error("Assertion failed")}n.d(e,{A:()=>r})},6792:(t,e,n)=>{function r(t){if("JS"===t)return globalThis;throw new Error("module not found")}n.d(e,{A:()=>r})},7563:(t,e,n)=>{n.d(e,{t:()=>s});class r{__call__(...t){const e=this.prototype.__new__,n=void 0!==e?e.call(this,...t):new this(...t),r=this.prototype.__init__;return void 0!==r&&r.call(n,...t),n}__eq__(t){return this==t}}const o={bigint:"int",number:"float",string:"str",boolean:"bool"};function s(t){const e=typeof t;if("function"===e)return r;if("object"===e)return t.constructor;const n=globalThis[o[e]];if(void 0!==n)return n;throw new Error(`JS type ${e} not implemented yet`)}},7825:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(9684);function o(t,e,...n){return n[n.length-1]===r.s9&&(n=n.slice(0,-1)),void 0===t[e]?t.prototype[e].call(...n):t[e](...n)}},7860:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(7563);function o(t,e){if("not"===t)return!e;const n=(0,r.t)(e);if(void 0===n)throw console.warn(e,t),new Error("?");return n.prototype[`__${t}__`].call(e)}},8891:()=>{},9478:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var r=n(2508),o=n(784),s=n(3174);const _=["basic test suite","numbers","classes"],l=new URLSearchParams(location.search),i=l.get("test"),a="true"===l.get("merge"),u=(l.get("parser"),l.get("compat")??"NONE");function c(){const t=new r.A;return t.addRunner("Brython",o.I).addRunner("RBrython",o.s),t.addStep("parse",((t,e)=>{e.ast=t.parse(e.pycode)})).addStep("emit",((t,e)=>{e.jscode=t.emit(e.ast)})).addStep("load",((t,e)=>{e.fct=t.loadAsFunction(e.jscode)})).addStep("execute1",((t,e)=>{e.fct()})).addStep("execute2",((t,e)=>{e.fct()})).addStep("execute3",((t,e)=>{e.fct()})).addStep("execute4",((t,e)=>{e.fct()})).addStep("execute5",((t,e)=>{e.fct()})),t.addStat("nbTokens",(t=>$B.tokenizer(t.pycode,"_").length)),t.addStat("nbFiles",(t=>1)),t.resetStats(),t}function f(t,e,n){t.textContent=(0,s.A)(e,n),t.classList.add("success"),e.errors.length>0&&(console.warn(e.errors),t.classList.add("error"),t.textContent+="\n"+e.errors.map((t=>{let e=t.message;return""===e&&(e=t.args[0]),e})).join("\n"))}function d(t){v.classList.remove("error","success"),v.textContent="",N.classList.remove("error","success"),N.textContent="",O.resetStats();for(let e=0;e<t.length;++e)O.bench({pycode:t[e]});const e=O.getStats();1===t.length&&(T.textContent=e.Brython.ctx.jscode,I.textContent=e.RBrython.ctx.jscode),f(N,e.Brython,e.RBrython),f(v,e.RBrython,e.Brython)}function p(t,e){let n=[t];"brython"===t&&(n=_);let r="";const o=new Array;let s=-1;const l=["NONE"];for(let t=0;t<n.length;++t){const _=S[n[t]];y[n[t]];for(let t=0;t<_.length;++t){++s;for(const n of l){globalThis.__SBRY_COMPAT__=n;let l=_[t];""!==l&&(l=B(l),e?r+=`def _${s}():\n${l.split("\n").map((t=>`    ${t}`)).join("\n")+"pass"}\n_${s}()\n`:o.push(l))}}}return e?[r]:o}async function m(){const t=await(await fetch("/assets/exclude_list.txt")).text();return Object.fromEntries(t.split("#").slice(0).map((t=>{let e=t.split("\n"),n=e[0].slice(1),r=e.slice(1).filter((t=>"/"!==t[0]&&0!==t.length)).map((t=>{const e=t.split("-");return 1===e.length?"*"===e[0]?e[0]:parseInt(e[0]):[parseInt(e[0]),parseInt(e[1])]}));return[n,r]})))}async function g(...t){const e={};for(let n=0;n<t.length;++n)e[t[n]]=await h(t[n]);return e}async function h(t,e=$){const n=await(await fetch(`/assets/unittests/${t}.py`)).text();y[t]=[];const r=n.split("\n#");return r[0]=r[0].slice(1),r.map(((n,o)=>{let s=n.split("\n");const _=s[0].trim();s[0]="# "+t+"."+_+" ("+(o+1)+"/"+r.length+")";let l=e[`${t}.${_}`];void 0===l&&(l=e[`${t}.*`]),s=b(s,l);let i=0;for(let t=1;t<s.length;++t)""===s[t].trim()&&++i;let a=0;for(let t=1;t<s.length;++t)"#"===s[t][0]&&(""===s[t].slice(1).trim()?++i:++a);let u=s.length-1-i;return y[t].push({excluded:a,total:u}),u===a?"":s.join("\n")+"\n"}))}function b(t,e){return e??=[],t.map(((t,n)=>(n+=1,void 0!==e.find((t=>"*"===t||n===t||!!(Array.isArray(t)&&t[0]<=n&&t[1]>=n)))?`# ${t}`:t)))}window.onerror=(...t)=>{console.log(t)};const y={},$=await m(),S=await g(..._),N=document.querySelector(".brython_output"),v=document.querySelector(".sbrython_output"),w=document.querySelector("#python"),I=(document.querySelector(".python_ouput"),document.querySelector("#ast"),document.querySelector("#rbry_js")),T=document.querySelector("#bry_js");w.addEventListener("input",(()=>{const t=w.value;localStorage.setItem("sbrython_code",t),d([t])})),w.addEventListener("keydown",(t=>{if("Tab"===t.code){t.preventDefault();let e=w.selectionStart,n=w.selectionEnd;const r=w.value,o=r.slice(0,e),s=r.slice(n,r.length);w.value=o+"    "+s;const _=e+4;w.setSelectionRange(_,_)}}));const A=document.querySelector("#tests"),J=new Option("----",void 0,!0,!0);function B(t){const e=t.split("\n");for(let t=1;t<e.length;++t){const n=e[t].indexOf("#");n<=0||(JSON.parse(e[t].slice(n+1).trim()).COMPAT!==u?e[t]="#"+e[t]:e[t]=e[t].slice(0,n).trimEnd())}return e.join("\n")}J.toggleAttribute("disabled"),A.append(J),A.addEventListener("change",(()=>{const t=B(A.value);w.value=t,localStorage.setItem("sbrython_code",t),d([t])}));for(let R=0;R<_.length;++R){const E=S[_[R]];for(let x=0;x<E.length;++x){const P=E[x];if(""===P)continue;const C=P.slice(2,P.indexOf("\n")),U=new Option(C,P);A.append(U)}}const O=c();let j;j=null!==i?p(i,a):[w.value=localStorage.getItem("sbrython_code")??""],d(j),e()}catch(M){e(M)}}),1)},9684:(t,e,n)=>{n.d(e,{B4:()=>_,DN:()=>s,s9:()=>o});let r=null;const o=Symbol();function s(t){return r=t,o}function _(){if(null===r)return{};const t=r;return r=null,t}},9936:(t,e,n)=>{n.d(e,{M:()=>r});const r=Symbol()}};import t from"../skeleton/index.js";var e=e=>t(t.s=e);import*as n from"./index.js";t.C(n),e(9478),e(3828);e(8891);
//# sourceMappingURL=index.js.map