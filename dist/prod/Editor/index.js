export const __webpack_id__=80;export const __webpack_ids__=[80];export const __webpack_modules__={116:(e,t,n)=>{n.d(t,{A:()=>_});const _='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass bool:\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_FROM_OPI__(self, "==", o) # type: ignore\n'},151:(e,t,n)=>{function _(e,t){return t in e?e[t]:e.constructor[t]}n.d(t,{A:()=>_})},504:(e,t,n)=>{n.d(t,{A:()=>r});var _=n(7563);function r(e){const t={},n=function(...n){const r=t[(0,_.t)(n[0]).name];return void 0!==r?r.call(this,...n):e.call(this,...n)};return n.register=(e,n)=>{t[n]=e},n}},541:(e,t,n)=>{n.d(t,{A:()=>_});const _='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass int:\n\n    def __new__(cls, o: object, base: int, /) -> int:\n        if type(o) == str:\n            return __JS_IRUN__( # type: ignore\n                \'\'\'\n                    (x, base) => {\n                        if( base !== 16)\n                            return BigInt(x);\n                        \n                        let result = 0n;\n                        for(let i = 2; i < x.length; ++i)\n                            result = result << 4n + BigInt( parseInt(this.slice(i, i+8), 16) );\n                        return result;\n                    }\n                \'\'\', o, base) # type: ignore\n        return type(o).__int__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_FROM_OPI__(self, "==", o) # type: ignore\n\n    ### add ###\n\n    @singledispatchmethod\n    def __add__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__add__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "+", b) # type: ignore\n    \n    ### add ###\n\n    @singledispatchmethod\n    def __sub__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__sub__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "-", b) # type: ignore\n    \n    ### mul ###\n    @singledispatchmethod\n    def __mul__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__mul__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "*", b) # type: ignore\n    \n    ### pow ###\n    @singledispatchmethod\n    def __pow__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n    \n    @__pow__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "**", b) # type: ignore\n    \n    ### div ###\n    @singledispatchmethod\n    def __div__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__div__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(__JS_AS_NUMBER__(self), # type: ignore\n                                "/",\n                              __JS_AS_NUMBER__(b)) # type: ignore\n    \n    ### mod ###\n    @singledispatchmethod\n    def __mod__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__mod__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "%", b) # type: ignore\n    \n    ### or ###\n    @singledispatchmethod\n    def __or__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__or__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "|", b) # type: ignore\n\n    ### and ###\n    @singledispatchmethod\n    def __and__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__and__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "&", b) # type: ignore\n    \n    \n    ### lshift ###\n    @singledispatchmethod\n    def __lshift__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__lshift__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, "<<", b) # type: ignore\n    \n    ### rshift ###\n    @singledispatchmethod\n    def __rshift__(self, _: object, /) -> int|NotImplementedType:\n        return NotImplemented\n\n    @__rshift__.register\n    def _(self, b: int, /) -> int:\n        return __JS_FROM_OPI__(self, ">>", b) # type: ignore\n\n    ### unary operators ###\n    def __invert__(self, /) -> int:\n        return __JS_FROM_OPI__("~", self) # type: ignore\n\n    def __neg__(self, /) -> int:\n        return __JS_FROM_OPI__("-", self) # type: ignore\n    \n    def __abs__(self, /) -> int:\n         return __JS_IRUN__("x => x < 0n ? -x : x", self) # type: ignore'},1711:(e,t,n)=>{n.d(t,{A:()=>_});const _='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass str:\n    def __new__(cls, o: object, /) -> str:\n        return __JS_FROM__(__JS_AS_STRING__(o)) # type: ignore\n        #return type(o).__str__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_FROM_OPI__(self, "==", o) # type: ignore'},2508:(e,t,n)=>{n.d(t,{A:()=>_});class _{steps=[];runners=[];stats=[];addStat(e,t){this.stats.push({name:e,fct:t})}addRunner(e,t){return this.runners.push({name:e,runner:t}),this}addStep(e,t){return this.steps.push({name:e,fct:t}),this}#e=null;resetStats(){this.#e={};for(let e=0;e<this.runners.length;++e){this.#e[this.runners[e].name]={steps:new Array(this.steps.length),ctx:{},errors:[],stats:{}};for(let t=0;t<this.steps.length;++t)this.#e[this.runners[e].name].steps[t]={name:this.steps[t].name,time:0};for(let t=0;t<this.stats.length;++t)this.#e[this.runners[e].name].stats[this.stats[t].name]=0}}getStats(){return this.#e}bench(e){null===this.#e&&this.resetStats();const t=this.#e;for(let n=0;n<this.runners.length;++n){const _=this.runners[n].runner,r=t[this.runners[n].name],o=r.ctx={...e};try{for(let e=0;e<this.steps.length;++e){const t=this.steps[e].fct,n=performance.now();t(_,o);const s=performance.now();r.steps[e].time+=s-n}for(let e=0;e<this.stats.length;++e)r.stats[this.stats[e].name]+=this.stats[e].fct(o)}catch(e){r.errors.push(e)}}}}},3174:(e,t,n)=>{function _(e,t){return e.toFixed(3).padStart(7)+t}function r(e,t){const n=e/t;return 1===n?"   =   ":n>1?"x"+n.toFixed(2).padStart(6):"-"+(-(100*e/t-100)).toFixed(2).padStart(5)+"%"}function o(e,t){let n="";const o=e.stats.nbTokens;n+=`Py code: ${o} tokens (${e.stats.nbFiles} file)\n`,n+="JS code: "+r(e.ctx.jscode?.length,t.ctx.jscode?.length)+"\n",n+="\nTimes:\n";const s=1e5/o/1e3;for(let o=0;o<e.steps.length;++o){const i=e.steps[o].name,l=e.steps[o].time,a=t.steps[o].time;n+=`- ${i.padEnd(7)}\t`+_(l*s,"s")+" ["+r(l,a)+"] "+_(l,"ms")+"\n"}return n}n.d(t,{A:()=>o})},3180:(e,t,n)=>{n.d(t,{A:()=>_});const _='from functools import singledispatchmethod\nfrom types     import NotImplementedType\n\nclass float:\n    def __new__(cls, o: object, /) -> int:\n        if type(o) is str:\n            return __JS_FROM__( __JS_AS_NUMBER__(o) ) # type: ignore\n        return type(o).__float__(o) # type: ignore\n    \n    def __eq__(self, o: object, /) -> bool:\n        return __JS_FROM_OPI__(self, "==", o) # type: ignore\n    \n\n    ### add ###\n    @singledispatchmethod\n    def __add__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__add__.register\n    def _(self, b: float, /) -> float:\n        return __JS_FROM_OPI__(self, "+", b) # type: ignore\n    \n    @__add__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_GET_IVALUE__(self), # type: ignore\n                                "+",\n                                __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __radd__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__radd__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_AS_NUMBER__(b), # type: ignore\n                                "+",\n                                __JS_GET_IVALUE__(self)) # type: ignore\n    \n\n    ### sub ###\n    @singledispatchmethod\n    def __sub__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__sub__.register\n    def _(self, b: float, /) -> float:\n        return __JS_FROM_OPI__(self, "-", b) # type: ignore\n    \n    @__sub__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_GET_IVALUE__(self), # type: ignore\n                                "-",\n                                __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __rsub__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__rsub__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_AS_NUMBER__(b), # type: ignore\n                                "-",\n                                __JS_GET_IVALUE__(self)) # type: ignore\n    \n    ### mul ###\n    @singledispatchmethod\n    def __mul__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__mul__.register\n    def _(self, b: float, /) -> float:\n        return __JS_FROM_OPI__(self, "*", b) # type: ignore\n    \n    @__mul__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_GET_IVALUE__(self), # type: ignore\n                                "*",\n                                __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __rmul__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__rmul__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_AS_NUMBER__(b), # type: ignore\n                                "*",\n                                __JS_GET_IVALUE__(self)) # type: ignore\n\n    ### div ###\n    @singledispatchmethod\n    def __div__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__div__.register\n    def _(self, b: float, /) -> float:\n        return __JS_FROM_OPI__(self, "/", b) # type: ignore\n    \n    @__div__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_GET_IVALUE__(self), # type: ignore\n                                "/",\n                                __JS_AS_NUMBER__(b)) # type: ignore\n\n    @singledispatchmethod\n    def __rdiv__(self, _: object, /) -> float|NotImplementedType:\n        return NotImplemented\n    \n    @__rdiv__.register\n    def _(self, b: int, /) -> float:\n        return __JS_FROM_OP__(  __JS_AS_NUMBER__(b), # type: ignore\n                                "/",\n                                __JS_GET_IVALUE__(self)) # type: ignore\n    \n    ### unary operators ###\n\n    def __neg__(self, /) -> float:\n        return __JS_FROM_OPI__("-", self) # type: ignore\n    \n    def __int__(self, /) -> int:\n        return __JS_IRUN__(\'(x) => Math.trunc(x)\', self) # type: ignore\n    \n    def __abs__(self, /) -> int:\n         return __JS_IRUN__(\'(x) => Math.abs(x)\', self) # type: ignore'},3828:(e,t,n)=>{n.p},4259:(e,t,n)=>{n.d(t,{A:()=>r});const _={bigint:"int",number:"float",string:"str",boolean:"bool"};function r(e){const t=_[function(e){return typeof e}(e)],n=Object.create(globalThis[t].prototype);return __JS_SET_IVALUE__(n,e),n}},4286:(e,t,n)=>{n.d(t,{A:()=>r});var _=n(7563);function r(e,...t){let n=e.__call__;if(void 0===n){if(n=e,void 0!==n.prototype?.__new__){const e=(0,_.t)(n).prototype.__call__;if(void 0!==e)return e.call(n,...t)}if(r=n,!1===Object.getOwnPropertyDescriptors(r)?.prototype?.writable)return new n(...t)}var r;return n(...t)}},4555:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>IVALUE});var _interface_op__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4887),_interface_uop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7860),_interface_call__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4286),_interface_mcall__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7825),_interface_assert__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5216),_interface_attr__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(151),_helpers_getClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7563),_tmp_corelib_NotImplemented__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9936),_tmp_corelib_singledispatchmethod__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(504),_interface_lit__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4259);globalThis.$RB={lit:_interface_lit__WEBPACK_IMPORTED_MODULE_4__.A,op:_interface_op__WEBPACK_IMPORTED_MODULE_0__.A,uop:_interface_uop__WEBPACK_IMPORTED_MODULE_1__.A,call:_interface_call__WEBPACK_IMPORTED_MODULE_2__.A,mcall:_interface_mcall__WEBPACK_IMPORTED_MODULE_5__.A,assert:_interface_assert__WEBPACK_IMPORTED_MODULE_3__.A,attr:_interface_attr__WEBPACK_IMPORTED_MODULE_6__.A},globalThis.__JS_LOG__=(...e)=>console.log(...e);const IVALUE=Symbol();globalThis.__JS_SET_IVALUE__=(e,t)=>e[IVALUE]=t,globalThis.__JS_GET_IVALUE__=e=>e[IVALUE];const ops={"==":(e,t)=>e==t,"===":(e,t)=>e===t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"**":(e,t)=>e**t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,"|":(e,t)=>e|t,"&":(e,t)=>e&t,">>":(e,t)=>e>>t,"<<":(e,t)=>e<<t},uops={"-":e=>-e,"~":e=>~e,"!":e=>!e};function getStr(e){return"string"==typeof e?e:e[IVALUE]}globalThis.__JS_IRUN__=function(code,...args){return __JS_FROM__(eval(code[IVALUE])(...args.map((e=>e?.[IVALUE]))))},globalThis.__JS_OP__=function(...e){return 2===e.length?uops[getStr(e[0])](e[1]):ops[getStr(e[1])](e[0],e[2])},globalThis.__JS_OPI__=(...e)=>__JS_OP__(...e.map((e=>getStr(e)))),globalThis.__JS_FROM__=_interface_lit__WEBPACK_IMPORTED_MODULE_4__.A,globalThis.__JS_AS_NUMBER__=e=>"infinity"===(e=e[IVALUE])||"inf"===e?Number.POSITIVE_INFINITY:"-infinity"===e||"-inf"===e?Number.NEGATIVE_INFINITY:Number(e),globalThis.__JS_AS_STRING__=e=>`${e[IVALUE]}`,globalThis.__JS_FROM_OP__=(...e)=>__JS_FROM__(__JS_OP__(...e)),globalThis.__JS_FROM_OPI__=(...e)=>__JS_FROM__(__JS_OPI__(...e)),globalThis.singledispatchmethod=_tmp_corelib_singledispatchmethod__WEBPACK_IMPORTED_MODULE_9__.A,globalThis.abs=function(e){return(0,_helpers_getClass__WEBPACK_IMPORTED_MODULE_7__.t)(e).prototype.__abs__.call(e)},globalThis.type=function(e){return(0,_helpers_getClass__WEBPACK_IMPORTED_MODULE_7__.t)(e)},globalThis.NotImplemented=_tmp_corelib_NotImplemented__WEBPACK_IMPORTED_MODULE_8__.M,globalThis.range=function*(e){for(let t=0;t<e;++t)yield t},globalThis.Exception=function(e){throw new Error(e)}},4887:(e,t,n)=>{n.d(t,{A:()=>i});var _=n(4555),r=n(7563),o=n(9936),s=n(4259);function i(e,t,n){const i=(0,r.t)(e);if(void 0===i)throw console.warn(e,t),new Error("?");let a=i.prototype[`__${t}__`];if(void 0===a){if("ne"===t)return(0,s.A)(!i.prototype.__eq__.call(e,n)[_.b]);"i"===t[0]&&(a=i.prototype[`__${t.slice(1)}__`]),void 0===a&&(a=l[t])}let c=a.call(e,n);if(c===o.M){const _=(0,r.t)(n);if(void 0===_)throw console.warn(n,"r"+t),new Error("?");c=_.prototype[`__r${t}__`].call(n,e)}return c}const l={eq:function(e){return this==e}}},5216:(e,t,n)=>{n.d(t,{A:()=>r});var _=n(4555);function r(e){if(!e[_.b])throw new Error("Assertion failed")}},5578:(e,t,n)=>{function _(e,t){const n=new $B.Parser(e,t,"file"),_=$B._PyPegen.run_parser(n),r=$B.future_features(_,t);return{filename:t,pycode:e,ast:_,symtable:$B._PySymtable_Build(_,t,r)}}n.d(t,{I:()=>g,s:()=>b});class r{}class o extends r{constructor(){super(),this.initialize()}run(e){this.loadAsFunction(this.emit(this.parse(e)))()}#t=!1;initialize(){this.#t=!0}parse(e){return _(e,"_")}emit(e){return $B.js_from_root({ast:e.ast,symtable:e.symtable,filename:e.filename,src:e.pycode,imported:void 0}).js}loadAsFunction(e){return $B.imported._={},new Function(e)}}n(4555);const s={};function i(e){return e.constructor.$name}function l(e){return e.constructor.$name}function a(e){const t=s[i(e)];if(void 0===t)throw console.warn(e),new Error(`Node type ${i(e)} is unknown`);return t(e)}function c(e,t=!1){const n=globalThis.inClass;globalThis.inClass=t;let _="";for(let t=0;t<e.length;++t)_+=a(e[t])+";\n";return globalThis.inClass=n,_}globalThis.inCstrFct=!1;const u={Add:"add",Sub:"sub",Mult:"mul",Div:"div",Pow:"pow",Mod:"mod",BitOr:"or",BitAnd:"and",LShift:"lshift",RShift:"rshift"},f={Eq:"eq",NotEq:"ne"},p={Invert:"invert",USub:"neg",Not:"not"};s.ClassDef=function(e){const t=e.name,n=e.body;let _=`globalThis.${t} = (() =>{\n        function ${t}() {\n            return Object.create(${t}.prototype);\n        }\n        const classname = ${t};\n    `;for(let e=0;e<n.length;++e)"FunctionDef"===i(n[e])&&(globalThis.inCstrFct=!0,_+=`${"_"===n[e].name?"":`${t}.prototype.${n[e].name} = `}${a(n[e])}\n            `,globalThis.inCstrFct=!1);return _+=`\n        return ${t};\n    })();\n    `,_},s.FunctionDef=function(e){const t=e.name,n=e.body;let _=globalThis.inClass?"":"function ",r="",o=0,s="";for((globalThis.inClass||globalThis.inCstrFct)&&(s=`const ${e.args.posonlyargs[o].arg} = this;`,++o);o<e.args.posonlyargs.length;++o)r+=`${e.args.posonlyargs[o].arg}, `;let l=`${_}${t}(${r}) {\n        ${s}\n        ${c(n)}\n    }`;if(0===e.decorator_list.length)return l;const u=e.decorator_list[0];if("Attribute"===i(u)){const t=e.args.posonlyargs[1].annotation.id;let n="",_="",r="classname";return globalThis.inClass&&(n+="static {\n",_="function ",r="this"),n+=`${r}.prototype.${u.value.id}.register(\n                ${_}${l},\n                "${t}"\n            );\n        `,globalThis.inClass&&(n+="}\n"),n}return globalThis.inClass?`static {\n            this.prototype.${t} = ${a(u)}(function ${l});\n        }`:`${a(u)}(${l})`},s.Assert=function(e){return`$RB.assert(${a(e.test)})`},s.Pass=function(e){return""},s.Return=function(e){return`return ${a(e.value)}`},s.Assign=function(e){let t=globalThis.inClass?"static ":"";for(let n=0;n<e.targets.length;++n)t+=a(e.targets[n])+" = ";return t+a(e.value)},s.Attribute=function(e){return`$RB.attr(${a(e.value)}, "${e.attr}")`},s.AugAssign=function(e){const t=e.target,n=l(e.op),_=e.value,r=u[n];if(void 0===r)throw new Error(`BinOp ${n} not impl`);return`${a(t)} = $RB.op(${a(t)}, "i${r}", ${a(_)})`},s.BinOp=function(e){const t=e.left,n=e.right,_=l(e.op),r=u[_];if(void 0===r)throw new Error(`BinOp ${_} not impl`);return`$RB.op(${a(t)}, "${r}", ${a(n)})`},s.Call=function(e){const t=e.func,n=e.args;if("__JS_WRITE__"===t.id)return e.args[0].value;let _="";for(let e=0;e<n.length;++e)_+=a(n[e])+", ";if("Attribute"===i(t)){const e=t;return`$RB.mcall(${a(e.value)}, "${e.attr}", ${_} )`}return`$RB.call(${a(t)}, ${_})`},s.Compare=function(e){const t=e.left,n=l(e.ops[0]),_=e.comparators[0];if("Is"===n)return`__JS_FROM_OPI__(${a(t)}, "===", ${a(_)})`;const r=f[n];if(void 0===r)throw console.warn(n),new Error(`CmpOp ${n} not impl`);return`$RB.op(${a(t)}, "${r}", ${a(_)})`},s.UnaryOp=function(e){const t=e.operand,n=l(e.op),_=p[n];if(void 0===_)throw new Error(`UnaryOp ${n} not impl`);return`$RB.uop("${_}", ${a(t)})`},s.Constant=function(e){const t=typeof e.value;if("object"===t){const t=e.value.__class__.__qualname__,n=e.value.value;if("float"===t)return`$RB.lit(${n})`;if("int"===t)return`$RB.lit(${n}n)`;if("NoneType"===t)return"$RB.lit(null)"}if("string"===t)return`$RB.lit("${e.value}")`;if("number"===t)return`$RB.lit(${e.value}n)`;if("boolean"===t)return`$RB.lit(${e.value})`;throw console.warn(e,t),new Error(`Unknown Cste ${t}`)},s.Expr=function(e){return a(e.value)},s.Name=function(e){return e.id},s.JoinedStr=function(e){console.warn(e);let t="`";for(let n=0;n<e.values.length;++n){const _=e.values[n];t+="Constant"===i(_)?_.value:`\${${a(_.value)}}`}return t+="`",t},s.If=function(e){let t=`if( __JS_GET_IVALUE__(${a(e.test)}) ) {\n        ${c(e.body)}\n    }`;for(let n=0;n<e.orelse.length;++n){const _=e.orelse[n];t+="If"===i(_)?"else "+a(_):`else { ${a(_)} }`}return t},s.While=function(e){return`while( __JS_GET_IVALUE__(${a(e.test)}) ) {\n        ${c(e.body)}\n    }`},s.For=function(e){return`for(${a(e.target)} of ${a(e.iter)}){\n        ${c(e.body)}\n    }`},s.Try=function(e){return`try {\n        ${c(e.body)}\n    } catch {\n        ${c(e.handlers[0].body)}\n    }`},s.Continue=function(e){return"continue;"},s.Break=function(e){return"break;"},s.Raise=function(e){return`throw ${a(e.exc)};`},s.ImportFrom=function(e){return console.warn("Import not implemented yet"),""};const d={int:n(541).A,float:n(3180).A,bool:n(116).A,str:n(1711).A};class m extends r{constructor(){super(),this.initialize()}run(e){this.loadAsFunction(this.emit(this.parse(e)))()}#t=!1;initialize(){for(let e in d)this.run(d[e]);this.#t=!0}parse(e){return _(e,"_")}emit(e){return function(e){return c(e.ast.body)}(e)}loadAsFunction(e){return new Function(e)}}class h{static getBrythonRunner(){return new o}static getRBrythonRunner(){return new m}}const g=h.getBrythonRunner(),b=h.getRBrythonRunner()},7563:(e,t,n)=>{n.d(t,{t:()=>o});var _=n(4259);class r{__call__(...e){const t=this.prototype.__new__,n=void 0!==t?t.call(this,...e):new this(...e),_=this.prototype.__init__;return void 0!==_&&_.call(n,...e),n}__eq__(e){return(0,_.A)(this==e)}}function o(e){const t=typeof e;if("function"===t)return r;if("object"===t)return e.constructor;throw new Error("JS type not implemented yet")}},7825:(e,t,n)=>{function _(e,t,...n){return void 0===e[t]?e.prototype[t].call(...n):e[t](...n)}n.d(t,{A:()=>_})},7860:(e,t,n)=>{n.d(t,{A:()=>s});var _=n(4555),r=n(7563),o=n(4259);function s(e,t){if("not"===e)return(0,o.A)(!t[_.b]);const n=(0,r.t)(t);if(void 0===n)throw console.warn(t,e),new Error("?");return n.prototype[`__${e}__`].call(t)}},8891:()=>{},9478:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var _=n(2508),r=n(5578),o=n(3174);const s=["basic test suite","numbers"],i=new URLSearchParams(location.search),l=i.get("test"),a="true"===i.get("merge"),c=(i.get("parser"),i.get("compat")??"NONE");function u(){const e=new _.A;return e.addRunner("Brython",r.I).addRunner("RBrython",r.s),e.addStep("parse",((e,t)=>{t.ast=e.parse(t.pycode)})).addStep("emit",((e,t)=>{t.jscode=e.emit(t.ast)})).addStep("load",((e,t)=>{t.fct=e.loadAsFunction(t.jscode)})).addStep("execute",((e,t)=>{t.fct()})),e.addStat("nbTokens",(e=>$B.tokenizer(e.pycode,"_").length)),e.addStat("nbFiles",(e=>1)),e.resetStats(),e}function f(e,t,n){e.textContent=(0,o.A)(t,n),e.classList.add("success"),t.errors.length>0&&(console.warn(t.errors),e.classList.add("error"),e.textContent+="\n"+t.errors.map((e=>{let t=e.message;return""===t&&(t=e.args[0]),t})).join("\n"))}function p(e){O.classList.remove("error","success"),O.textContent="",E.classList.remove("error","success"),E.textContent="",P.resetStats();for(let t=0;t<e.length;++t)P.bench({pycode:e[t]});const t=P.getStats();1===e.length&&(A.textContent=t.Brython.ctx.jscode,$.textContent=t.RBrython.ctx.jscode),f(E,t.Brython,t.RBrython),f(O,t.RBrython,t.Brython)}function d(e,t){let n=[e];"brython"===e&&(n=s);let _="";const r=new Array;let o=-1;const i=["NONE"];for(let e=0;e<n.length;++e){const s=S[n[e]];y[n[e]];for(let e=0;e<s.length;++e){++o;for(const n of i){globalThis.__SBRY_COMPAT__=n;let i=s[e];""!==i&&(i=M(i),t?_+=`def _${o}():\n${i.split("\n").map((e=>`    ${e}`)).join("\n")+"pass"}\n_${o}()\n`:r.push(i))}}}return t?[_]:r}async function m(){const e=await(await fetch("/assets/exclude_list.txt")).text();return Object.fromEntries(e.split("#").slice(0).map((e=>{let t=e.split("\n"),n=t[0].slice(1),_=t.slice(1).filter((e=>"/"!==e[0]&&0!==e.length)).map((e=>{const t=e.split("-");return 1===t.length?"*"===t[0]?t[0]:parseInt(t[0]):[parseInt(t[0]),parseInt(t[1])]}));return[n,_]})))}async function h(...e){const t={};for(let n=0;n<e.length;++n)t[e[n]]=await g(e[n]);return t}async function g(e,t=I){const n=await(await fetch(`/assets/unittests/${e}.py`)).text();y[e]=[];const _=n.split("\n#");return _[0]=_[0].slice(1),_.map(((n,r)=>{let o=n.split("\n");const s=o[0].trim();o[0]="# "+e+"."+s+" ("+(r+1)+"/"+_.length+")";let i=t[`${e}.${s}`];void 0===i&&(i=t[`${e}.*`]),o=b(o,i);let l=0;for(let e=1;e<o.length;++e)""===o[e].trim()&&++l;let a=0;for(let e=1;e<o.length;++e)"#"===o[e][0]&&(""===o[e].slice(1).trim()?++l:++a);let c=o.length-1-l;return y[e].push({excluded:a,total:c}),c===a?"":o.join("\n")+"\n"}))}function b(e,t){return t??=[],e.map(((e,n)=>(n+=1,void 0!==t.find((e=>"*"===e||n===e||!!(Array.isArray(e)&&e[0]<=n&&e[1]>=n)))?`# ${e}`:e)))}window.onerror=(...e)=>{console.log(e)};const y={},I=await m(),S=await h(...s),E=document.querySelector(".brython_output"),O=document.querySelector(".sbrython_output"),R=document.querySelector("#python"),$=(document.querySelector(".python_ouput"),document.querySelector("#ast"),document.querySelector("#rbry_js")),A=document.querySelector("#bry_js");R.addEventListener("input",(()=>{const e=R.value;localStorage.setItem("sbrython_code",e),p([e])})),R.addEventListener("keydown",(e=>{if("Tab"===e.code){e.preventDefault();let t=R.selectionStart,n=R.selectionEnd;const _=R.value,r=_.slice(0,t),o=_.slice(n,_.length);R.value=r+"    "+o;const s=t+4;R.setSelectionRange(s,s)}}));const T=document.querySelector("#tests"),w=new Option("----",void 0,!0,!0);function M(e){const t=e.split("\n");for(let e=1;e<t.length;++e){const n=t[e].indexOf("#");n<=0||(JSON.parse(t[e].slice(n+1).trim()).COMPAT!==c?t[e]="#"+t[e]:t[e]=t[e].slice(0,n).trimEnd())}return t.join("\n")}w.toggleAttribute("disabled"),T.append(w),T.addEventListener("change",(()=>{const e=M(T.value);R.value=e,localStorage.setItem("sbrython_code",e),p([e])}));for(let N=0;N<s.length;++N){const v=S[s[N]];for(let B=0;B<v.length;++B){const U=v[B];if(""===U)continue;const F=U.slice(2,U.indexOf("\n")),C=new Option(F,U);T.append(C)}}const P=u();let J;J=null!==l?d(l,a):[R.value=localStorage.getItem("sbrython_code")??""],p(J),t()}catch(L){t(L)}}),1)},9936:(e,t,n)=>{n.d(t,{M:()=>_});const _=Symbol()}};import __webpack_require__ from"../skeleton/index.js";var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e);import*as __webpack_chunk_0__ from"./index.js";__webpack_require__.C(__webpack_chunk_0__),__webpack_exec__(9478),__webpack_exec__(3828);var __webpack_exports__=__webpack_exec__(8891);
//# sourceMappingURL=index.js.map